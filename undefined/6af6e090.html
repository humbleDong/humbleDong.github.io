<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>JavaWeb学习 | 七岁就很浪</title><meta name="author" content="小东"><meta name="copyright" content="小东"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="JavaWeb1.基本概念1.1前言web开发  web，网页的意思，www.baidu.com 静态web html,css 提供给所有人看到数据始终不会发生变化！   动态web 淘宝，几乎所有的网站 提供给所有人看的数据始终会发生变化，每个人在不同的时间，不同的地点看的信息不相同！ 技术栈：Servlet&#x2F;JSP，ASP，PHP    在Java中，动态web资源开发的技术统称为J">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaWeb学习">
<meta property="og:url" content="https://humbledong.github.io/undefined/6af6e090.html">
<meta property="og:site_name" content="七岁就很浪">
<meta property="og:description" content="JavaWeb1.基本概念1.1前言web开发  web，网页的意思，www.baidu.com 静态web html,css 提供给所有人看到数据始终不会发生变化！   动态web 淘宝，几乎所有的网站 提供给所有人看的数据始终会发生变化，每个人在不同的时间，不同的地点看的信息不相同！ 技术栈：Servlet&#x2F;JSP，ASP，PHP    在Java中，动态web资源开发的技术统称为J">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s2.loli.net/2022/12/13/EGx6b7s9w2vpX5k.webp">
<meta property="article:published_time" content="2022-12-13T04:14:20.000Z">
<meta property="article:modified_time" content="2023-03-20T09:46:32.202Z">
<meta property="article:author" content="小东">
<meta property="article:tag" content="Tomcat">
<meta property="article:tag" content="Maven">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s2.loli.net/2022/12/13/EGx6b7s9w2vpX5k.webp"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://humbledong.github.io/undefined/6af6e090.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'JavaWeb学习',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-03-20 17:46:32'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="七岁就很浪" type="application/atom+xml">
</head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://s2.loli.net/2022/12/13/7IplWivFU3TDOBx.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">5</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">9</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div><hr/></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://s2.loli.net/2022/12/13/EGx6b7s9w2vpX5k.webp')"><nav id="nav"><span id="blog-info"><a href="/" title="七岁就很浪"><span class="site-name">七岁就很浪</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">JavaWeb学习</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-12-13T04:14:20.000Z" title="发表于 2022-12-13 12:14:20">2022-12-13</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-03-20T09:46:32.202Z" title="更新于 2023-03-20 17:46:32">2023-03-20</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Java%E5%AD%A6%E4%B9%A0/">Java学习</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="JavaWeb学习"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="JavaWeb"><a href="#JavaWeb" class="headerlink" title="JavaWeb"></a>JavaWeb</h1><h2 id="1-基本概念"><a href="#1-基本概念" class="headerlink" title="1.基本概念"></a>1.基本概念</h2><h3 id="1-1前言"><a href="#1-1前言" class="headerlink" title="1.1前言"></a>1.1前言</h3><p>web开发</p>
<ul>
<li>web，网页的意思，<a target="_blank" rel="noopener" href="http://www.baidu.com/">www.baidu.com</a></li>
<li>静态web<ul>
<li>html,css</li>
<li>提供给所有人看到数据始终不会发生变化！</li>
</ul>
</li>
<li>动态web<ul>
<li>淘宝，几乎所有的网站</li>
<li>提供给所有人看的数据始终会发生变化，每个人在不同的时间，不同的地点看的信息不相同！</li>
<li>技术栈：Servlet&#x2F;JSP，ASP，PHP</li>
</ul>
</li>
</ul>
<p>在Java中，动态web资源开发的技术统称为JavaWeb</p>
<h3 id="1-2web应用程序"><a href="#1-2web应用程序" class="headerlink" title="1.2web应用程序"></a>1.2web应用程序</h3><p>web应用程序：可以提供浏览器访问的程序；</p>
<ul>
<li>a.html, b.html….多个web资源，这些web资源可以被外界访问，对外界提供服务；</li>
<li>我们能访问到任何一个页面或者资源，都存在于这个世界的某个角落的计算机上</li>
<li>URL</li>
<li>这个统一的web资源会被放在同一个文件夹下，web应用程序–&gt;Tomcat:服务器</li>
<li>一个web应用由多个部分组成(静态web，动态web)<ul>
<li>html,css,js</li>
<li>jsp,servlet</li>
<li>java程序</li>
<li>jar包</li>
<li>配置文件(Properties)</li>
</ul>
</li>
</ul>
<p>web应用程序编写完毕后，若想提供给外界访问：需要一个服务器来统一管理</p>
<h3 id="1-3静态web"><a href="#1-3静态web" class="headerlink" title="1.3静态web"></a>1.3静态web</h3><p><img src="https://s2.loli.net/2022/12/11/VyL8xHEIsv6qDQN.png" alt="image-20221103160321990"></p>
<p>静态web存在缺点：</p>
<p>​		web页面无法动态更新，所有用户看到的都是同一个页面</p>
<p>​				轮播图，点击特效：伪动态</p>
<p>​				JavaScript(实际开发中使用较广)</p>
<p>​				VBScript</p>
<p>​		它无法和数据库交互(数据无法持久化，用户无法交互)</p>
<h3 id="1-4动态web"><a href="#1-4动态web" class="headerlink" title="1.4动态web"></a>1.4动态web</h3><p><img src="https://s2.loli.net/2022/12/11/p7SVTsiEgxOd2NZ.png" alt="image-20221103160944541"></p>
<p>缺点：</p>
<ul>
<li>加入服务器的动态web出现了错误，我们需要重新编写我们的后台程序，重新发布；也就是停机维护</li>
</ul>
<p>优点</p>
<ul>
<li>web页面可以动态更新，所有用户看到的都不是同一个页面</li>
<li>它可以与数据库交互(数据持久化：注册，商品信息，用户信息……)</li>
</ul>
<p><img src="https://s2.loli.net/2022/12/11/WzyQwdXhPHaL4oB.png" alt="image-20221103161249378"></p>
<h2 id="2-Web服务器"><a href="#2-Web服务器" class="headerlink" title="2.Web服务器"></a>2.Web服务器</h2><h3 id="2-1技术讲解"><a href="#2-1技术讲解" class="headerlink" title="2.1技术讲解"></a>2.1技术讲解</h3><p>ASP：</p>
<ul>
<li>微软：国内最早流行的就是ASP</li>
<li>在HTML中嵌入了大量的VB脚本，ASP+COM</li>
<li>在ASP开发中，基本一个页面都有几千行的业务逻辑，页面极其混乱</li>
<li>维护成本高！</li>
</ul>
<p>PHP</p>
<ul>
<li>PHP开发速度很快，功能很强大，跨平台，代码很简单(70%,wp)</li>
<li>无法承载大量访问的情况(局限性)</li>
</ul>
<p>JSP&#x2F;Servlet</p>
<p>B&#x2F;S:浏览和服务器</p>
<p>C&#x2F;S：客户端和服务器</p>
<ul>
<li>sun公司主推的B&#x2F;S架构</li>
<li>基于Java语言的(所有大公司，或者一些开源的组件，都是用Java写的)</li>
<li>可以承载三高问题带来的影响</li>
<li>语法像ASP，ASP–&gt;JSP，加强市场强度</li>
</ul>
<p>2.Web服务器</p>
<p>服务器是一种被动的操作，用来处理用户的一些请求和给用户一些响应的信息；</p>
<p>IIS</p>
<p>微软的：ASP…..,Windows自带的</p>
<p>Tomcat:</p>
<p>开源的web服务器</p>
<p>1.下载Tomcat</p>
<p>官网直接下载即可</p>
<p>2.了解配置文件及其目录结构</p>
<p>3.这个东西的作用</p>
<h2 id="3-Tomcat"><a href="#3-Tomcat" class="headerlink" title="3.Tomcat"></a>3.Tomcat</h2><h3 id="3-1文件夹的作用："><a href="#3-1文件夹的作用：" class="headerlink" title="3.1文件夹的作用："></a>3.1文件夹的作用：</h3><p><img src="https://s2.loli.net/2022/12/11/ZKCgGjxM5HbVs4r.png" alt="image-20221103162557554"></p>
<h3 id="3-2启动和关闭"><a href="#3-2启动和关闭" class="headerlink" title="3.2启动和关闭"></a>3.2启动和关闭</h3><p><img src="https://s2.loli.net/2022/12/11/Y4Mad65ywtIukRF.png" alt="image-20221103162725095"></p>
<p>访问测试：<a target="_blank" rel="noopener" href="http://localhost:8080/">http://localhost:8080/</a></p>
<p>可能遇到的问题</p>
<p>1.Java环境变量没有配置(JDK)</p>
<p>2.闪退问题：需要配置兼容性，即没有配置环境变量(JDK)</p>
<p>3.乱码问题：配置文件中设置（XML）</p>
<h3 id="3-3配置"><a href="#3-3配置" class="headerlink" title="3.3配置"></a>3.3配置</h3><h4 id="3-3-1位置"><a href="#3-3-1位置" class="headerlink" title="3.3.1位置"></a>3.3.1位置</h4><p><img src="https://s2.loli.net/2022/12/11/z5AWNPgGme3I8F6.png" alt="image-20221103163212106"></p>
<h4 id="3-3-2可以配置启动的端口号"><a href="#3-3-2可以配置启动的端口号" class="headerlink" title="3.3.2可以配置启动的端口号"></a>3.3.2可以配置启动的端口号</h4><ul>
<li>tomcat的默认端口号为：8080</li>
<li>mysql：3306</li>
<li>http：80</li>
<li>https：443</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Connector</span> <span class="attr">port</span>=<span class="string">&quot;8081&quot;</span> <span class="attr">protocol</span>=<span class="string">&quot;HTTP/1.1&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">connectionTimeout</span>=<span class="string">&quot;20000&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">redirectPort</span>=<span class="string">&quot;8443&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>



<h4 id="3-3-3可以配置主机的名称"><a href="#3-3-3可以配置主机的名称" class="headerlink" title="3.3.3可以配置主机的名称"></a>3.3.3可以配置主机的名称</h4><p>默认的主机名：localhost–&gt;127.0.0.1</p>
<p>默认网站存在的地址为：webapps</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Host</span> <span class="attr">name</span>=<span class="string">&quot;www.xiaojia.com&quot;</span>  <span class="attr">appBase</span>=<span class="string">&quot;webapps&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">unpackWARs</span>=<span class="string">&quot;true&quot;</span> <span class="attr">autoDeploy</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>





<p><strong>高难度面试题</strong></p>
<p>请你谈谈网站是如何进行访问的</p>
<p>1.输入一个域名：回车</p>
<p>2.检查本机的C\Windows\System32\host配置文件下有没有这个域名映射</p>
<p>​		1.有，直接返回对应的IP地址，这个地址中，如果有我们需要访问的web程序，可以直接访问</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1       www.xiaojia.com</span><br></pre></td></tr></table></figure>

<p>​		2.没有：去DNS服务器（全世界的域名都在这里）找，找到的话就返回，找不到就返回找不到</p>
<h3 id="3-4发布一个web网站"><a href="#3-4发布一个web网站" class="headerlink" title="3.4发布一个web网站"></a>3.4发布一个web网站</h3><ul>
<li>将自己写的网站，放到服务器(Tomcat)中指定的web应用文件夹(webapps)下，就可以访问了</li>
</ul>
<p>网站大致结构：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">--webapps：tomcat服务器的web目录</span><br><span class="line">    --ROOT</span><br><span class="line">    --com.XXX...网站的目录名</span><br><span class="line">    	--WEB——INF</span><br><span class="line">    		-classes：Java程序</span><br><span class="line">    		-lib：web应用所依赖的jar包</span><br><span class="line">    		-web.xml：网站的配置文件</span><br><span class="line">    	--index.html  默认的首页</span><br><span class="line">    	--<span class="keyword">static</span>   存放静态资源文件</span><br><span class="line">    		-css</span><br><span class="line">    		-js</span><br><span class="line">    		-img</span><br></pre></td></tr></table></figure>







<h2 id="4-HTTP"><a href="#4-HTTP" class="headerlink" title="4.HTTP"></a>4.HTTP</h2><h3 id="4-1什么是HTTP"><a href="#4-1什么是HTTP" class="headerlink" title="4.1什么是HTTP"></a>4.1什么是HTTP</h3><p>HTTP（超文本传输协议）是一个简单的请求响应协议，它通常运行在TCP上</p>
<ul>
<li>文本：html,字符串…</li>
<li>超文本：图片，音乐，视频，定位，地图……</li>
<li>默认端口：80</li>
<li>https:安全的</li>
<li>默认端口443</li>
</ul>
<h3 id="4-2两个时代"><a href="#4-2两个时代" class="headerlink" title="4.2两个时代"></a>4.2两个时代</h3><ul>
<li>http1.0<ul>
<li>http&#x2F;1.0:客户端可以与web服务器连接后，只能获得一个web资源，然后断开连接</li>
</ul>
</li>
<li>http1.1<ul>
<li>http&#x2F;1.1：客户端可以与web服务器连接后，可以获得多个web资源</li>
</ul>
</li>
</ul>
<h3 id="4-3HTTP请求"><a href="#4-3HTTP请求" class="headerlink" title="4.3HTTP请求"></a>4.3HTTP请求</h3><ul>
<li>客户端—-发请求(Request)—-服务器</li>
</ul>
<p>百度</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Request URL: https:<span class="comment">//www.baidu.com/   //请求的URL</span></span><br><span class="line">Request Method: GET					  <span class="comment">//请求的方法GET/POST</span></span><br><span class="line">Status Code: <span class="number">200</span> OK					 <span class="comment">//状态码</span></span><br><span class="line">Remote Address: <span class="number">39.156</span><span class="number">.66</span><span class="number">.18</span>:<span class="number">443</span>	 <span class="comment">//远程地址</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Accept: </span><br><span class="line"><span class="comment">//类型</span></span><br><span class="line">text/html,application/xhtml+xml,application/xml;q=<span class="number">0.9</span>,image/avif,image/webp,image/apng;q=<span class="number">0.8</span>,application/signed-exchange;v=b3;q=<span class="number">0.9</span></span><br><span class="line">Accept-Encoding: gzip, deflate, br</span><br><span class="line">Accept-Language: zh-CN,zh;q<span class="number">.0</span><span class="number">.9</span><span class="comment">//语言</span></span><br><span class="line">Cache-Control: no-cache</span><br><span class="line">Connection: keep-alive</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>1.请求行</strong></p>
<ul>
<li>请求行中的请求方式：GET</li>
<li>请求方式：GET，POST，HEAD，DELETE，PUT，TRACT<ul>
<li>get：请求能够携带的参数比较少，大小有限制，会在浏览器的URL地址栏显示数据的内容，不安全，但高效</li>
<li>post：请求能够携带的参数比较多，大小没有限制，不会在浏览器的URL地址栏显示数据的内容，安全，但不高效</li>
</ul>
</li>
</ul>
<p><strong>2.消息头</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Accept: <span class="comment">//告诉浏览器他所支持的数据类型</span></span><br><span class="line">Accept-Encoding:<span class="comment">//支持的编码格式UTF-8，GBK，GBK2312</span></span><br><span class="line">Accept-Language:<span class="comment">//语言环境</span></span><br><span class="line">Cache-Control: no-cache<span class="comment">//缓存控制</span></span><br><span class="line">Connection: keep-alive<span class="comment">//连接状态</span></span><br></pre></td></tr></table></figure>



<h3 id="4-4HTTP响应"><a href="#4-4HTTP响应" class="headerlink" title="4.4HTTP响应"></a>4.4HTTP响应</h3><ul>
<li>服务器—-响应—-客户端</li>
</ul>
<p>百度</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Cache-Control: <span class="keyword">private</span>    <span class="comment">//缓存控制</span></span><br><span class="line">Connection: keep-alive	  <span class="comment">//保持连接</span></span><br><span class="line">Content-Encoding: gzip	  <span class="comment">//编码</span></span><br><span class="line">Content-Type: text/html;  <span class="comment">//类型</span></span><br></pre></td></tr></table></figure>



<p><strong>1.响应体</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Accept: <span class="comment">//告诉浏览器他所支持的数据类型</span></span><br><span class="line">Accept-Encoding:<span class="comment">//支持的编码格式UTF-8，GBK，GBK2312</span></span><br><span class="line">Accept-Language:<span class="comment">//语言环境</span></span><br><span class="line">Cache-Control: no-cache<span class="comment">//缓存控制</span></span><br><span class="line">Connection: keep-alive<span class="comment">//连接状态</span></span><br><span class="line">HOST：主机</span><br><span class="line">Refresh:<span class="comment">//告诉客户端多久刷新一次</span></span><br><span class="line">Location：<span class="comment">//让网页重新定位</span></span><br></pre></td></tr></table></figure>

<p><strong>2.响应状态码</strong></p>
<p>200：请求响应成功</p>
<p>404：找不到资源、</p>
<p>3**：请求重定向</p>
<ul>
<li>重定向：你重新到我给你的新位置去</li>
</ul>
<p>4**：资源不存在</p>
<p>5**：服务器代码错误</p>
<h2 id="5-Maven"><a href="#5-Maven" class="headerlink" title="5.Maven"></a>5.Maven</h2><p>我们为什么要学习这个技术？</p>
<p>1.在JavaWeb开发中，需要大量的jar包，我们手动去导入；</p>
<p>2.如果能够让一个东西自动导入和配置这个jar包</p>
<p>​		由此，Maven诞生了！！</p>
<h3 id="5-1Maven架构管理工具"><a href="#5-1Maven架构管理工具" class="headerlink" title="5.1Maven架构管理工具"></a>5.1Maven架构管理工具</h3><p>我们目前就是用来方便导入jar包的</p>
<p>Maven核心思想：<strong>约定大于约束</strong></p>
<ul>
<li>有约束：不要去违反</li>
</ul>
<p>Maven会规定好你应该如何去编写我们的Java代码，必须按照这个规范来</p>
<h3 id="5-2下载与安装"><a href="#5-2下载与安装" class="headerlink" title="5.2下载与安装"></a>5.2下载与安装</h3><p>URL：<a target="_blank" rel="noopener" href="https://maven.apache.org/">Maven – Welcome to Apache Maven</a></p>
<p><img src="https://s2.loli.net/2022/12/11/ApY3dL7JmKfW5FC.png" alt="image-20221104122431660"></p>
<h3 id="5-3配置Maven环境变量"><a href="#5-3配置Maven环境变量" class="headerlink" title="5.3配置Maven环境变量"></a>5.3配置Maven环境变量</h3><p>配置如下：</p>
<ol>
<li></li>
</ol>
<p>新建系统环境变量，把M2_HOME和MAVEN_HOME配置进去，如果不配置M2_HOME，以后的学习会出现问题</p>
<p><img src="https://s2.loli.net/2022/12/11/pgn6ObvC1As3Nfh.png" alt="image-20221104123328700"></p>
<p><img src="https://s2.loli.net/2022/12/11/oQP9JqB6eMvV13I.png" alt="image-20221104123109900"></p>
<p><img src="https://s2.loli.net/2022/12/11/JZ6zFC4D5yiSa9u.png" alt="image-20221104123258877"></p>
<p>3.在系统变量中的path中添加</p>
<p><img src="https://s2.loli.net/2022/12/11/hou9XWwsCIga5DR.png" alt="image-20221104123709939"></p>
<p>4.在cmd中执行以下检查是否配置成功</p>
<p><img src="https://s2.loli.net/2022/12/11/pGjCgwvLmDlU2yF.png" alt="image-20221104124418532"></p>
<p>已配置成功！</p>
<h3 id="5-4修改配置文件–-gt-添加阿里云镜像"><a href="#5-4修改配置文件–-gt-添加阿里云镜像" class="headerlink" title="5.4修改配置文件–&gt;添加阿里云镜像"></a>5.4修改配置文件–&gt;添加阿里云镜像</h3><p>因为这个在国外访问速度很慢，就添加镜像后，可以提升访问速度</p>
<p>修改setting文件，使用notepad++打开(我用的是这个)</p>
<p><img src="https://s2.loli.net/2022/12/11/cPuwC1Dq58ohpM4.png" alt="image-20221104124907072"></p>
<p>找到mirror标签添加这句话</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mirror</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>alimaven<span class="tag">&lt;/<span class="name">id</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>aliyun maven<span class="tag">&lt;/<span class="name">name</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public/<span class="tag">&lt;/<span class="name">url</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p><img src="https://s2.loli.net/2022/12/11/eCThszVUG2DmB1P.png" alt="image-20221104125536513"></p>
<h3 id="5-5本地仓库"><a href="#5-5本地仓库" class="headerlink" title="5.5本地仓库"></a>5.5本地仓库</h3><p>建立本地仓库：localRepository</p>
<p>在Maven的文件目录下创建一个maven-repo文件，用于当仓库</p>
<p>然后把地址配置到xml中</p>
<p><img src="https://s2.loli.net/2022/12/11/2lhIMsEOoNVmXn6.png" alt="image-20221104130451631"></p>
<h3 id="5-6在IDEA中使用Maven"><a href="#5-6在IDEA中使用Maven" class="headerlink" title="5.6在IDEA中使用Maven"></a>5.6在IDEA中使用Maven</h3><h4 id="1-启动IDEA"><a href="#1-启动IDEA" class="headerlink" title="1.启动IDEA"></a>1.启动IDEA</h4><h4 id="2-创建一个Maven项目"><a href="#2-创建一个Maven项目" class="headerlink" title="2.创建一个Maven项目"></a>2.创建一个Maven项目</h4><h4 id="3、"><a href="#3、" class="headerlink" title="3、"></a>3、<img src="https://s2.loli.net/2022/12/11/PAWSryLpqHIoKRN.png" alt="image-20221119083405964"></h4><p><img src="https://s2.loli.net/2022/12/11/vMirHS8ncCOFehd.png" alt="image-20221119083609123"></p>
<p><img src="https://s2.loli.net/2022/12/11/jdR4UCmVMbJ3lGa.png" alt="image-20221119083815777"></p>
<p><img src="https://s2.loli.net/2022/12/11/8mHKUE5TwtcABSV.png" alt="image-20221119084040949"></p>
<h4 id="4-观察仓库中多了哪些东西"><a href="#4-观察仓库中多了哪些东西" class="headerlink" title="4.观察仓库中多了哪些东西"></a>4.观察仓库中多了哪些东西</h4><h4 id="5-IDEA中的Maven如何设置"><a href="#5-IDEA中的Maven如何设置" class="headerlink" title="5.IDEA中的Maven如何设置"></a>5.IDEA中的Maven如何设置</h4><p><img src="https://s2.loli.net/2022/12/11/Iw6SYaLGJOsyM3F.png" alt="image-20221119084621210"></p>
<h4 id="6-到这里，Maven在IDEA中的配置和使用就ok了"><a href="#6-到这里，Maven在IDEA中的配置和使用就ok了" class="headerlink" title="6.到这里，Maven在IDEA中的配置和使用就ok了"></a>6.到这里，Maven在IDEA中的配置和使用就ok了</h4><h3 id="5-7创建一个普通的Maven项目"><a href="#5-7创建一个普通的Maven项目" class="headerlink" title="5.7创建一个普通的Maven项目"></a>5.7创建一个普通的Maven项目</h3><p>不勾选那个模板直接下一步即可</p>
<p>下面就是最干净的Maven项目</p>
<p><img src="https://s2.loli.net/2022/12/11/w1mVTfsJdO8PnUu.png" alt="image-20221119085401756"></p>
<h3 id="5-8遇到的问题"><a href="#5-8遇到的问题" class="headerlink" title="5.8遇到的问题"></a>5.8遇到的问题</h3><p>资源路径找不到</p>
<p>maven由于他的约定大于配置，我们之后可能遇到我们写的配置文件，无法被导出或者生效的问题，解决方案</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--在build中配置resources，来防止我们资源导出失败的问题--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>true<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/java<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>true<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>

























<h2 id="6-Servlet"><a href="#6-Servlet" class="headerlink" title="6.Servlet"></a>6.Servlet</h2><h3 id="6-1-Servlet简介"><a href="#6-1-Servlet简介" class="headerlink" title="6.1 Servlet简介"></a>6.1 Servlet简介</h3><ul>
<li>Servlet就是sun公司开发动态web的一门技术</li>
<li>sun在这些API中提供了一个接口叫做：Servlet，如果你想开发一个Servlet程序，只需要完成这两个步骤：<ul>
<li>编写一个类，实现Servlet接口</li>
<li>把开发好的Java类部署到web服务器中。</li>
</ul>
</li>
<li>把实现了Servlet接口的Java程序叫做：Servlet</li>
</ul>
<h3 id="6-2HelloServlet"><a href="#6-2HelloServlet" class="headerlink" title="6.2HelloServlet"></a>6.2HelloServlet</h3><h4 id="1-首先创建项目，比较推荐模块中套模块的方式，方便以后管理"><a href="#1-首先创建项目，比较推荐模块中套模块的方式，方便以后管理" class="headerlink" title="1.首先创建项目，比较推荐模块中套模块的方式，方便以后管理"></a>1.首先创建项目，比较推荐模块中套模块的方式，方便以后管理</h4><p><img src="https://s2.loli.net/2022/12/11/es2GYVRHQrmZWiN.png" alt="image-20221110232926329"></p>
<p><img src="https://s2.loli.net/2022/12/11/oWpr7Mc4tIFZKRw.png" alt="image-20221110233025962"></p>
<p><img src="https://s2.loli.net/2022/12/11/VAtrPDzuF5YJcWd.png" alt="image-20221110233154009"></p>
<p><img src="https://s2.loli.net/2022/12/11/Fafigu18EHX3BQ7.png" alt="image-20221110233251458"></p>
<p><img src="https://s2.loli.net/2022/12/11/KYO78yM6j3Iviwa.png" alt="image-20221110233401540"></p>
<p><img src="https://s2.loli.net/2022/12/11/6HNKhACMvjq4awn.png" alt="image-20221110233511831"></p>
<h4 id="2-添加Web程序"><a href="#2-添加Web程序" class="headerlink" title="2.添加Web程序"></a>2.添加Web程序</h4><p><img src="https://s2.loli.net/2022/12/11/xj1nsUTSEcOJb83.png" alt="image-20221110233552209"></p>
<h4 id="3-添加jsp和Servlet库"><a href="#3-添加jsp和Servlet库" class="headerlink" title="3.添加jsp和Servlet库"></a>3.添加jsp和Servlet库</h4><p>也可也全部导入都无所谓，学习阶段就暂时使用这两个库</p>
<p>方式A.可以创建一个lib目录把jar包从Tomcat中导入，并且添加为库，跟学习JDBC的时候操作一样的</p>
<p>方式B：可以右键IDEA文件的位置—-项目结构——–库</p>
<p>这里有一个  +  </p>
<p><img src="https://s2.loli.net/2022/12/11/hvAMnytWE1X6lzP.png" alt="image-20221110234008193"></p>
<p><img src="https://s2.loli.net/2022/12/11/gXaQf5Otuko3pWD.png" alt="image-20221110234021168"></p>
<p>点击第一个Java即可，找到jar包路径，点击确定并且应用到我们写Servlet的模块中</p>
<p><img src="https://s2.loli.net/2022/12/11/mjdf5UVHa4lWqeD.png" alt="image-20221110234103249"></p>
<p><img src="https://s2.loli.net/2022/12/11/rJB4TozdpHCu3fq.png" alt="image-20221110234144842"></p>
<p>点击确定，最后点击应用，然后确定，再关闭即可导入jar包</p>
<h4 id="4配置Tomcat"><a href="#4配置Tomcat" class="headerlink" title="4配置Tomcat"></a>4配置Tomcat</h4><p>1.在IDEA中点击添加配置，找到+，添加Tomcat服务器，选择本地</p>
<p><img src="https://s2.loli.net/2022/12/11/sO4AFw3ESnYTxja.png" alt="image-20221110234256001"></p>
<p><img src="https://s2.loli.net/2022/12/11/lmoDwcMyxquB1zO.png" alt="image-20221110234700706"></p>
<p><img src="https://s2.loli.net/2022/12/11/uGlLFxoAzsfPYtX.png" alt="image-20221110234736644"></p>
<p>这个应用上下文就是键值对我们的url的默认页面，还是应用，并且确定</p>
<p><img src="https://s2.loli.net/2022/12/11/VHhmClpA2aFqB3g.png" alt="image-20221110234849328"></p>
<p>点击运行</p>
<p><img src="https://s2.loli.net/2022/12/11/oBb7ysGFgTcJAXO.png" alt="image-20221110234955861"></p>
<p>出现这个页面就代表我们配置成功了，他默认回去找index.html文件，没有他才会去走index.jsp文件</p>
<h4 id="5-聊一下XML文件"><a href="#5-聊一下XML文件" class="headerlink" title="5.聊一下XML文件"></a>5.聊一下XML文件</h4><p>我们想要去修改网页的内容</p>
<p>1.我们去编写Java文件，让他实现Servlet接口，或者继承GenericServlet或者HttpServlet</p>
<p>我们要知道他们关系是HttpServlet—&gt;GenericServlet—-&gt;Servlet的一个继承关系</p>
<p>我就采用继承HttpServlet的方式来实现，注意：重写doPost和doGet方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        doPost(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">//以io流的方式向页面输出东西</span></span><br><span class="line">        <span class="type">PrintWriter</span> <span class="variable">writer</span> <span class="operator">=</span> resp.getWriter();</span><br><span class="line">        writer.println(<span class="string">&quot;&lt;h1&gt;HelloServlet&lt;/h1&gt;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>接下来我们去修改XML文件</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--注册Servlet--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.servlet.HelloServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--映射Servlet--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/hello<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://s2.loli.net/2022/12/11/i7ha4xYKqkvbREw.png" alt="image-20221111000055167"></p>
<p>启动Tomcat</p>
<p><img src="https://s2.loli.net/2022/12/11/YHwE2ABMFf9d376.png" alt="image-20221111000147881"></p>
<p>这样我们就彻底实现了对Servlet的第一个Javaweb程序</p>
<h3 id="6-3-Servlet原理"><a href="#6-3-Servlet原理" class="headerlink" title="6.3 Servlet原理"></a>6.3 Servlet原理</h3><p>Servlet是由Web服务器调用，Web服务器在收到浏览器请求之后，会：</p>
<p><img src="https://s2.loli.net/2022/12/11/tpMDXdF5u7Hv9jC.png" alt="image-20221110230007466"></p>
<p><img src="https://s2.loli.net/2022/12/11/HxCA5BFnsvmqhGj.png" alt="image-20221110230142329"></p>
<h3 id="6-4-Mapping问题"><a href="#6-4-Mapping问题" class="headerlink" title="6.4 Mapping问题"></a>6.4 Mapping问题</h3><h4 id="1-一个Servlet可以指定一个映射路径"><a href="#1-一个Servlet可以指定一个映射路径" class="headerlink" title="1.一个Servlet可以指定一个映射路径"></a>1.一个Servlet可以指定一个映射路径</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>ServletDemo1<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.ldd.servlet.ServletDemo1<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>ServletDemo1<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/servletDemo01<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="2-一个Servlet可以指定多个映射路径"><a href="#2-一个Servlet可以指定多个映射路径" class="headerlink" title="2.一个Servlet可以指定多个映射路径"></a>2.一个Servlet可以指定多个映射路径</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>ServletDemo1<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.ldd.servlet.ServletDemo1<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>ServletDemo1<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/servletDemo01<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>ServletDemo1<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/servletDemo001<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>ServletDemo1<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/servletDemo0001<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="3-一个Servlet可以指定通用映射路径"><a href="#3-一个Servlet可以指定通用映射路径" class="headerlink" title="3.一个Servlet可以指定通用映射路径"></a>3.一个Servlet可以指定通用映射路径</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>ServletDemo1<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.ldd.servlet.ServletDemo1<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>ServletDemo1<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/servletDemo01/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://s2.loli.net/2022/12/11/IdH37AFD5XRoJQv.png" alt="image-20221110230814315"></p>
<h4 id="4-默认的请求路径"><a href="#4-默认的请求路径" class="headerlink" title="4.默认的请求路径"></a>4.默认的请求路径</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>ServletDemo1<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.ldd.servlet.ServletDemo1<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>ServletDemo1<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*.hello<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>首先这样写是直接报错的，是在启动Tomcat的时候报错</p>
<p><img src="https://s2.loli.net/2022/12/11/DhnLM3oZ1P28fbT.png" alt="image-20221110231248613"></p>
<p><strong>这里有一个注意的点：</strong></p>
<p>*<em>很多网页有一个   <em>.do，</em></em></p>
<p><strong>我们可以自定义后缀去实现请求映射，但是*前面不能加映射的路径</strong></p>
<h4 id="5-指定一些后缀或者前缀等等"><a href="#5-指定一些后缀或者前缀等等" class="headerlink" title="5.指定一些后缀或者前缀等等"></a>5.指定一些后缀或者前缀等等</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>ServletDemo1<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.ldd.servlet.ServletDemo1<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>ServletDemo1<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>*.do<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://s2.loli.net/2022/12/11/WUAKQ4l3dSTDeRt.png" alt="image-20221110231900107"></p>
<p><strong>我们可以看见自定义的路径只要是<u>.do</u>结尾都可以访问到</strong></p>
<p>我们可以自定义自己的404界面，可以不使用默认的】</p>
<p>这个是默认的，当然这是一种方式</p>
<p><img src="https://s2.loli.net/2022/12/11/unUFzSXdekLOtaM.png" alt="image-20221110232039435"></p>
<h4 id="6-优先级问题"><a href="#6-优先级问题" class="headerlink" title="6.优先级问题"></a>6.优先级问题</h4><p>指定了固有的映射路径优先级最高，如果找不到就会走默认的处理请求；</p>
<h3 id="6-5-ServletContext"><a href="#6-5-ServletContext" class="headerlink" title="6.5 ServletContext"></a>6.5 ServletContext</h3><p> web容器在启动的时候，它会为每一个web程序都创建一个ServletContext对象，它代表了当前的web应用；</p>
<h4 id="1-共享数据："><a href="#1-共享数据：" class="headerlink" title="1.共享数据："></a>1.共享数据：</h4><ul>
<li>我在这个Servlet中保存的数据，可以在另外一个Servlet中拿到</li>
</ul>
<p><img src="https://s2.loli.net/2022/12/11/zIS4HNgjtJiQPXd.png" alt="image-20221112162417915"></p>
<p>1.首先我们需要在Servlet类中把数据存入ServletContext容器中</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletContext;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        doPost(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">//this.getInitParameter()  获取初始化参数</span></span><br><span class="line">        <span class="comment">//this.getServletConfig()  获取Servlet配置</span></span><br><span class="line">        <span class="comment">//this.getServletContext() 获取Servlet上下文  (今天主要学习这个)</span></span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">servletContext</span> <span class="operator">=</span> <span class="built_in">this</span>.getServletContext();</span><br><span class="line"></span><br><span class="line">        String username=<span class="string">&quot;ASUS&quot;</span>;</span><br><span class="line">        servletContext.setAttribute(<span class="string">&quot;username&quot;</span>,username);</span><br><span class="line">        <span class="comment">//设置了一个属性</span></span><br><span class="line">        <span class="comment">//将一个数据保存在ServletContext中，使用的是键值对的方法，key：username,value:username</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>2.在写个Servlet类从ServletContext容器中把数据取出来</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletContext;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GetServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        doPost(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">servletContext</span> <span class="operator">=</span> <span class="built_in">this</span>.getServletContext();</span><br><span class="line">        <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span>(String) servletContext.getAttribute(<span class="string">&quot;username&quot;</span>);</span><br><span class="line"></span><br><span class="line">        resp.setContentType(<span class="string">&quot;text/html;charset=utf-8&quot;</span>);</span><br><span class="line">        resp.getWriter().println(<span class="string">&quot;名字是：&quot;</span>+username);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3.写好的Servlet类需要取配置他的xml文件</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">&quot;4.0&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--注册Servlet--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.servlet.HelloServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--映射Servlet--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/hello<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--注册Servlet--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>getServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.servlet.GetServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--映射Servlet--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>getServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/getServlet<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>4.运行Tomcat的时候，需要注意：</p>
<p>1.如果直接输入&#x2F;getServlet，取的时候，就会取到null值，原因是我们没有存入数据所以根本取不到东西</p>
<p>2.所以我们需要先去把数据存入，先输入&#x2F;hello，再输入&#x2F;getServlet，就可以实现效果了</p>
<p><img src="https://s2.loli.net/2022/12/11/3Rfa8vlbNiuU2Lq.png" alt="image-20221112163127547"></p>
<p>5.小结：</p>
<p>其实ServletContext就是一个公用容器，我们可以把其他类的数据存入这个容器中，另外的类也可以创建这个容器的东西的对象，然后实现把数据取出来使用。</p>
<h4 id="2-获取初始化参数"><a href="#2-获取初始化参数" class="headerlink" title="2.获取初始化参数"></a>2.获取初始化参数</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--配置一些web应用初始化参数--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>url<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>jdbc:mysql://localhost:3306/mybatis<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">context-param</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">    <span class="type">ServletContext</span> <span class="variable">servletContext</span> <span class="operator">=</span> <span class="built_in">this</span>.getServletContext();</span><br><span class="line">    <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> servletContext.getInitParameter(<span class="string">&quot;url&quot;</span>);</span><br><span class="line">    resp.getWriter().println(url);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<h4 id="3-请求转发"><a href="#3-请求转发" class="headerlink" title="3.请求转发"></a>3.请求转发</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">    <span class="type">ServletContext</span> <span class="variable">servletContext</span> <span class="operator">=</span> <span class="built_in">this</span>.getServletContext();</span><br><span class="line">    System.out.println(<span class="string">&quot;进入了Servlet04&quot;</span>);</span><br><span class="line">    <span class="type">RequestDispatcher</span> <span class="variable">requestDispatcher</span> <span class="operator">=</span> servletContext.getRequestDispatcher(<span class="string">&quot;/gp&quot;</span>);<span class="comment">//转发的请求路径</span></span><br><span class="line">    requestDispatcher.forward(req,resp);<span class="comment">//调用forward实现请求转发</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.loli.net/2022/12/11/vopLweOyuFC3TBa.png" alt="image-20221112214846198"></p>
<h4 id="4-读取资源文件-重要"><a href="#4-读取资源文件-重要" class="headerlink" title="4.读取资源文件(重要)"></a>4.读取资源文件(重要)</h4><p>Properties</p>
<ul>
<li>在src路径下新建properties</li>
<li>Maven结构下在resources目录下新建properties</li>
</ul>
<p>发现：都被打包到了同一个路径下：classes，我们俗称这个路径为：classpath</p>
<p>思路：需要一个文件流</p>
<p><img src="https://s2.loli.net/2022/12/11/oCMg9d4RDshr5Ny.png" alt="image-20221112220710646"></p>
<p>接下来我们把文件以流的方式输出出来</p>
<p><img src="https://s2.loli.net/2022/12/11/QDvBPJ6moa7TMwV.png" alt="image-20221112220400374"></p>
<p>可以看到他只有两种输出形式，一种是流，另外一种是读的形式，我们采用流的形式</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">username</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">password</span>=<span class="string">123456</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">    <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> <span class="built_in">this</span>.getServletContext().getResourceAsStream(<span class="string">&quot;/WEB-INF/classes/db.properties&quot;</span>);<span class="comment">//把资源变成一个流</span></span><br><span class="line"></span><br><span class="line">    <span class="type">Properties</span> <span class="variable">prop</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line">    prop.load(is);</span><br><span class="line">    <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> prop.getProperty(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">    <span class="type">String</span> <span class="variable">pwd</span> <span class="operator">=</span> prop.getProperty(<span class="string">&quot;password&quot;</span>);</span><br><span class="line"></span><br><span class="line">    resp.getWriter().println(name+pwd);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>访问测试后可以读取到资源文件的东西了</p>
<h3 id="6-6HttpServletResponse"><a href="#6-6HttpServletResponse" class="headerlink" title="6.6HttpServletResponse"></a>6.6HttpServletResponse</h3><p>web服务器接收到客户端的http请求，针对这个请求，分别创建一个代表请求的HttpServletRequest对象，代表请求的HttpServletResponse对象</p>
<ul>
<li>如果要获取客户端请求过来的参数：找HttpServletRequest</li>
<li>如果要给客户端响应一些信息：找HttpServletResponse</li>
</ul>
<h4 id="1-简单分类："><a href="#1-简单分类：" class="headerlink" title="1.简单分类："></a>1.简单分类：</h4><p><strong>负责向浏览器发送数据的方法</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ServletOutputStream <span class="title function_">getOutputStream</span><span class="params">()</span> <span class="keyword">throws</span> IOException;</span><br><span class="line">   PrintWriter <span class="title function_">getWriter</span><span class="params">()</span> <span class="keyword">throws</span> IOException;</span><br></pre></td></tr></table></figure>

<p>负责向浏览器发送响应头的方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">setCharacterEncoding</span><span class="params">(String var1)</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">setContentLength</span><span class="params">(<span class="type">int</span> var1)</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">setContentLengthLong</span><span class="params">(<span class="type">long</span> var1)</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">setContentType</span><span class="params">(String var1)</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">setDateHeader</span><span class="params">(String var1, <span class="type">long</span> var2)</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">addDateHeader</span><span class="params">(String var1, <span class="type">long</span> var2)</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">setHeader</span><span class="params">(String var1, String var2)</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">addHeader</span><span class="params">(String var1, String var2)</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">setIntHeader</span><span class="params">(String var1, <span class="type">int</span> var2)</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">addIntHeader</span><span class="params">(String var1, <span class="type">int</span> var2)</span>;</span><br></pre></td></tr></table></figure>

<h4 id="2-常见应用"><a href="#2-常见应用" class="headerlink" title="2.常见应用"></a>2.常见应用</h4><h5 id="1-向浏览器输出消息"><a href="#1-向浏览器输出消息" class="headerlink" title="1.向浏览器输出消息"></a>1.向浏览器输出消息</h5><h5 id="2-下载文件"><a href="#2-下载文件" class="headerlink" title="2.下载文件"></a>2.下载文件</h5><ol>
<li>要获取下载文件的路径</li>
<li>下载的文件名是啥？</li>
<li>设置想办法让浏览器支持下载我们需要的东西</li>
<li>获取下载文件的输入流</li>
<li>创建缓冲区</li>
<li>获取OutputStream对象</li>
<li>将FileOutputStream流写入到buffer缓冲区</li>
<li>使用OutputStream将缓冲区中的数据输出到客户端</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">    <span class="comment">//  1. 要获取下载文件的路径</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">realPath</span> <span class="operator">=</span> <span class="string">&quot;G:\\JavaWeb\\out\\production\\Servlet_learn\\1.png&quot;</span>;</span><br><span class="line">    System.out.println(<span class="string">&quot;下载的文件名：&quot;</span>+realPath);</span><br><span class="line">    <span class="comment">//  2. 下载的文件名是啥？</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">fileName</span> <span class="operator">=</span> realPath.substring(realPath.lastIndexOf(<span class="string">&quot;\\&quot;</span>) + <span class="number">1</span>);</span><br><span class="line">    <span class="comment">//  3. 设置想办法让浏览器支持下载我们需要的东西</span></span><br><span class="line">    resp.setHeader(<span class="string">&quot;Content-Disposition&quot;</span>,<span class="string">&quot;attachment;filename=&quot;</span>+fileName);</span><br><span class="line">    <span class="comment">//以下都是io知识</span></span><br><span class="line">    <span class="comment">//  4. 获取下载文件的输入流</span></span><br><span class="line">    <span class="type">FileInputStream</span> <span class="variable">in</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(realPath);</span><br><span class="line">    <span class="comment">//  5. 创建缓冲区</span></span><br><span class="line">    <span class="type">int</span> len=<span class="number">0</span>;</span><br><span class="line">    <span class="type">byte</span>[] buffer= <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">    <span class="comment">//  6. 获取OutputStream对象</span></span><br><span class="line">    ServletOutputStream out=resp.getOutputStream();</span><br><span class="line">    <span class="comment">//  7. 将FileOutputStream流写入到buffer缓冲区,8. 使用OutputStream将缓冲区中的数据输出到客户端</span></span><br><span class="line">    <span class="keyword">while</span> ((len=in.read(buffer))&gt;<span class="number">0</span>)&#123;</span><br><span class="line">        out.write(buffer,<span class="number">0</span>,len);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//  关闭节流</span></span><br><span class="line">    in.close();</span><br><span class="line">    out.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这里我放了一张图片在src平级目录下，在Maven项目中，必须放在resources目录下</p>
<p>xml我就不写了，自己去写</p>
<p>测试后发现是直接给我们下载好了的。</p>
<p><img src="https://s2.loli.net/2022/12/11/I6ZtkjR9Azpabn4.png" alt="image-20221113141216149"></p>
<p>这里有个疑问，第一我在路径的时候用的是绝对路径，暂时先这样处理，后面再修改，然后如果文件是中文名字会发生中文识别乱码</p>
<p>这样解决</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  1. 要获取下载文件的路径</span></span><br><span class="line"><span class="type">String</span> <span class="variable">realPath</span> <span class="operator">=</span> <span class="string">&quot;G:\\JavaWeb\\out\\production\\Servlet_learn\\谷歌logo.png&quot;</span>;</span><br><span class="line">System.out.println(<span class="string">&quot;下载的文件名：&quot;</span>+realPath);</span><br><span class="line"><span class="comment">//  2. 下载的文件名是啥？</span></span><br><span class="line"><span class="type">String</span> <span class="variable">fileName</span> <span class="operator">=</span> realPath.substring(realPath.lastIndexOf(<span class="string">&quot;\\&quot;</span>) + <span class="number">1</span>);</span><br><span class="line"><span class="comment">//  3. 设置想办法让浏览器支持下载我们需要的东西</span></span><br><span class="line">resp.setHeader(<span class="string">&quot;Content-Disposition&quot;</span>,<span class="string">&quot;attachment;filename=&quot;</span>+ URLEncoder.encode(fileName,<span class="string">&quot;utf-8&quot;</span>));</span><br><span class="line"><span class="comment">//下载我们需要的东西，中文文件名URLEncoder.encode编码，否则有可能乱码</span></span><br></pre></td></tr></table></figure>



<h5 id="3-验证码功能"><a href="#3-验证码功能" class="headerlink" title="3.验证码功能"></a>3.验证码功能</h5><p>验证码怎么来的？</p>
<ul>
<li>前端实现</li>
<li>后端实现，需要用到Java图片类，生成一个图片</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">    <span class="comment">//如何让浏览器3s自动刷新一次</span></span><br><span class="line">    <span class="comment">//js中有一个windows.refresh可以实现</span></span><br><span class="line">    resp.setHeader(<span class="string">&quot;refresh&quot;</span>,<span class="string">&quot;3&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//在内存中创建一个图片</span></span><br><span class="line">    <span class="type">BufferedImage</span> <span class="variable">image</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedImage</span>(<span class="number">800</span>, <span class="number">200</span>, BufferedImage.TYPE_INT_RGB);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//得到图片</span></span><br><span class="line">    Graphics2D g=(Graphics2D) image.getGraphics();<span class="comment">//笔</span></span><br><span class="line">    <span class="comment">//设置图片的背景颜色</span></span><br><span class="line">    g.setColor(Color.white);</span><br><span class="line">    g.fillRect(<span class="number">0</span>,<span class="number">0</span>,<span class="number">800</span>,<span class="number">200</span>);</span><br><span class="line">    <span class="comment">//给图片写数据</span></span><br><span class="line">    g.setColor(Color.red);</span><br><span class="line"></span><br><span class="line">    g.setFont(<span class="keyword">new</span> <span class="title class_">Font</span>(<span class="literal">null</span>, Font.ITALIC,<span class="number">150</span>));</span><br><span class="line">    g.drawString(makeNum(),<span class="number">0</span>,<span class="number">200</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//重点：告诉浏览器这个请求用图片的方式打开</span></span><br><span class="line">    resp.setContentType(<span class="string">&quot;image/jpeg&quot;</span>);</span><br><span class="line">    <span class="comment">//网站存在缓存，我们需要不让浏览器缓存</span></span><br><span class="line">    resp.setDateHeader(<span class="string">&quot;expires&quot;</span>,-<span class="number">1</span>);</span><br><span class="line">    resp.setHeader(<span class="string">&quot;Cache-Control&quot;</span>,<span class="string">&quot;no-cache&quot;</span>);</span><br><span class="line">    resp.setHeader(<span class="string">&quot;Pragma&quot;</span>,<span class="string">&quot;no-cache&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//把图片写个浏览器</span></span><br><span class="line">    <span class="type">boolean</span> <span class="variable">jpg</span> <span class="operator">=</span> ImageIO.write(image, <span class="string">&quot;jpg&quot;</span>, resp.getOutputStream());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//生成随机数</span></span><br><span class="line"><span class="keyword">private</span> String <span class="title function_">makeNum</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">Random</span> <span class="variable">r</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line">    String num= r.nextInt(<span class="number">999999999</span>)+<span class="string">&quot;&quot;</span>;</span><br><span class="line">    System.out.println(num);</span><br><span class="line">    <span class="type">StringBuffer</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line">    <span class="comment">//-这一段保证了这段验证码必定是八位数，不足八位也会拿0去补充</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">9</span>-num.length(); i++) &#123;</span><br><span class="line">        sb.append(<span class="string">&quot;0&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    num= sb + num;</span><br><span class="line">    <span class="keyword">return</span> num;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="4-实现重定向-重点"><a href="#4-实现重定向-重点" class="headerlink" title="4.实现重定向(重点)"></a>4.实现重定向(重点)</h5><p>前面2和3纯闹着玩，让你知道有这个东西</p>
<p><img src="https://s2.loli.net/2022/12/11/NHh3XoLfFqGCDRQ.png" alt="image-20221113151051586"></p>
<p>一个web资源(B)收到客户端(A)请求后，他会通知客户端去访问另外一个web资源(C)，这个过程叫做重定向。</p>
<p>常见场景</p>
<ul>
<li>用户登录</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">sendRedirect</span><span class="params">(String var1)</span> <span class="keyword">throws</span> IOException;</span><br></pre></td></tr></table></figure>

<p>使用这个方法实现重定向但是还是需要抛出一个异常</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line"><span class="comment">//        重定向怎么来的</span></span><br><span class="line"><span class="comment">//        resp.setHeader(&quot;Location&quot;,&quot;/Servlet/img&quot;);</span></span><br><span class="line"><span class="comment">//        这里是状态码</span></span><br><span class="line"><span class="comment">//        resp.setStatus(302);//我们可以随意设置，但是尽量用它里面的常量为了规范</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//直接去请求写过的下载文件的那张图片</span></span><br><span class="line">        resp.sendRedirect(<span class="string">&quot;/Servlet/img&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<p><img src="https://s2.loli.net/2022/12/11/wa1TeAl2nGNyqVW.png" alt="image-20221113152237996"></p>
<p>面试题：请你聊聊重定向和转发的区别？</p>
<p>相同点：</p>
<ul>
<li>页面都会实现跳转</li>
</ul>
<p>不同点：</p>
<ul>
<li>请求转发的时候，utl不会发生变化</li>
<li>重定向的时候，url会发生变化</li>
</ul>
<p>来玩一下index.jsp文件</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;%--</span><br><span class="line">  Created by IntelliJ IDEA.</span><br><span class="line">  User: ASUS</span><br><span class="line">  Date: <span class="number">2022</span>/<span class="number">11</span>/<span class="number">10</span></span><br><span class="line">  Time: <span class="number">23</span>:<span class="number">35</span></span><br><span class="line">  To change <span class="built_in">this</span> template use File | Settings | File Templates.</span><br><span class="line">--%&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;title&gt;$Title$&lt;/title&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">&lt;%--这里提交的路径，需要寻找到项目的路径--%&gt;</span><br><span class="line">&lt;%--$&#123;pageContext.request.contextPath&#125;代表当前的项目--%&gt;</span><br><span class="line">  &lt;form action=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/login&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">    用户名：&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;username&quot;</span>&gt;&lt;br&gt;</span><br><span class="line">    密码：&lt;input type=<span class="string">&quot;password&quot;</span> name=<span class="string">&quot;password&quot;</span>&gt;&lt;br&gt;</span><br><span class="line">    &lt;input type=<span class="string">&quot;submit&quot;</span>&gt;</span><br><span class="line">  &lt;/form&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>这里我用的是post方法，get方法会直接把表单上传的东西暴露在url里面</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">    <span class="comment">//处理请求</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">    <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;password&quot;</span>);</span><br><span class="line"></span><br><span class="line">    System.out.println(username+<span class="string">&quot;,&quot;</span>+password);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//请求成功我们就让他重定向到success.jsp页面去</span></span><br><span class="line">    <span class="comment">//重定向的时候要注意路径问题，否则404</span></span><br><span class="line">    resp.sendRedirect(<span class="string">&quot;/Servlet/success.jsp&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>success.jsp</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;%--</span><br><span class="line">  Created by IntelliJ IDEA.</span><br><span class="line">  User: ASUS</span><br><span class="line">  Date: <span class="number">2022</span>/<span class="number">11</span>/<span class="number">13</span></span><br><span class="line">  Time: <span class="number">15</span>:<span class="number">40</span></span><br><span class="line">  To change <span class="built_in">this</span> template use File | Settings | File Templates.</span><br><span class="line">--%&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;h1&gt;Success&lt;/h1&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>





<h3 id="6-7HttpServletRequest"><a href="#6-7HttpServletRequest" class="headerlink" title="6.7HttpServletRequest"></a>6.7HttpServletRequest</h3><p>HttpServletRequest代表客户端的请求，用户通过Http协议访问服务器，Http请求中的所有信息会被封装到HttpServletRequest，通过HttpServletRequest的方法，获得客户端的所有信息。</p>
<p>他里面的方法基本和Response对应的，主要聊一下使用场景</p>
<h4 id="获取前端传递的参数-并且-请求转发"><a href="#获取前端传递的参数-并且-请求转发" class="headerlink" title="获取前端传递的参数 并且 请求转发"></a>获取前端传递的参数 并且 请求转发</h4><p><img src="https://s2.loli.net/2022/12/11/GMyiUQTkSo4BLPO.png" alt="image-20221113195135305"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">    <span class="comment">//解决以下获取乱码</span></span><br><span class="line">    req.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">    resp.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//处理请求</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">    <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">    String[] hobbies = req.getParameterValues(<span class="string">&quot;hobby&quot;</span>);</span><br><span class="line"></span><br><span class="line">    System.out.println(<span class="string">&quot;==========================&quot;</span>);</span><br><span class="line">    System.out.println(Arrays.toString(hobbies));</span><br><span class="line">    System.out.println(username+<span class="string">&quot;,&quot;</span>+password);</span><br><span class="line">    System.out.println(<span class="string">&quot;==========================&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//使用请求转发的方法</span></span><br><span class="line">    req.getRequestDispatcher(<span class="string">&quot;/success.jsp&quot;</span>).forward(req,resp);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*//请求成功我们就让他重定向到success.jsp页面去</span></span><br><span class="line"><span class="comment">    //重定向的时候要注意路径问题，否则404</span></span><br><span class="line"><span class="comment">    resp.sendRedirect(&quot;/Servlet/success.jsp&quot;);*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>index.jsp文件代码</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;%--</span><br><span class="line">  Created by IntelliJ IDEA.</span><br><span class="line">  User: ASUS</span><br><span class="line">  Date: <span class="number">2022</span>/<span class="number">11</span>/<span class="number">10</span></span><br><span class="line">  Time: <span class="number">23</span>:<span class="number">35</span></span><br><span class="line">  To change <span class="built_in">this</span> template use File | Settings | File Templates.</span><br><span class="line">--%&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;title&gt;$Title$&lt;/title&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">&lt;%--这里提交的路径，需要寻找到项目的路径--%&gt;</span><br><span class="line">&lt;%--$&#123;pageContext.request.contextPath&#125;代表当前的项目--%&gt;</span><br><span class="line">  &lt;form action=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/login&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">    用户名：&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;username&quot;</span>&gt;&lt;br&gt;</span><br><span class="line">    密码：&lt;input type=<span class="string">&quot;password&quot;</span> name=<span class="string">&quot;password&quot;</span>&gt;&lt;br&gt;</span><br><span class="line">    爱好：</span><br><span class="line">    &lt;input type=<span class="string">&quot;checkbox&quot;</span> name=<span class="string">&quot;hobby&quot;</span> value=<span class="string">&quot;唱&quot;</span>&gt;唱</span><br><span class="line">    &lt;input type=<span class="string">&quot;checkbox&quot;</span> name=<span class="string">&quot;hobby&quot;</span> value=<span class="string">&quot;跳&quot;</span>&gt;跳</span><br><span class="line">    &lt;input type=<span class="string">&quot;checkbox&quot;</span> name=<span class="string">&quot;hobby&quot;</span> value=<span class="string">&quot;rap&quot;</span>&gt;rap</span><br><span class="line">    &lt;input type=<span class="string">&quot;checkbox&quot;</span> name=<span class="string">&quot;hobby&quot;</span> value=<span class="string">&quot;篮球&quot;</span>&gt;篮球&lt;br&gt;</span><br><span class="line">    &lt;input type=<span class="string">&quot;submit&quot;</span>&gt;</span><br><span class="line">  &lt;/form&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p><strong>关于获取多个参数这一块，我们需要在控制台打印出来这个数组里面的信息，可以for遍历这个数组，也可以使用工具类Arrays.toString()方法进行遍历.</strong></p>
<h2 id="7-Cookie，Session"><a href="#7-Cookie，Session" class="headerlink" title="7.Cookie，Session"></a>7.Cookie，Session</h2><h3 id="7-1会话"><a href="#7-1会话" class="headerlink" title="7.1会话"></a>7.1会话</h3><p><strong>会话</strong>：用户打开一个浏览器，点击了很多浏览器，访问了多个web资源，关闭浏览器，这个过程可以称之为会话</p>
<p><strong>有状态会话</strong></p>
<p>你能证明你是某校的学生？</p>
<p>你                                             学校</p>
<p>1.发票									 学校给你发票</p>
<p>2.学校登记                              学校标记你来过了</p>
<p>一个网站怎么证明你来过</p>
<p>客户端                     服务端</p>
<p>1.服务端给客户端一个cookie(信件),客户端下次访问服务端带上cookie(信件)就好了</p>
<p>2.服务器登记你来过了，下次你来的时候我来匹配你；session</p>
<h3 id="7-2保存会话的两种技术"><a href="#7-2保存会话的两种技术" class="headerlink" title="7.2保存会话的两种技术"></a>7.2保存会话的两种技术</h3><p>cookie</p>
<ul>
<li>客户端技术(响应，请求)</li>
</ul>
<p>session</p>
<ul>
<li>服务端技术，利用这个技术，可以保存用户的信息，我们可以把信息或者数据放在Seesion中！</li>
</ul>
<p>常见的场景</p>
<p>网站登录之后，你下次不用登录了，第二次直接访问登录了</p>
<h3 id="7-3Cookie"><a href="#7-3Cookie" class="headerlink" title="7.3Cookie"></a>7.3Cookie</h3><p>1从请求中拿到cookie信息</p>
<p>2.服务器响应给客户端cookie</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Cookie[] cookies = req.getCookies();<span class="comment">//获得cookie</span></span><br><span class="line">cookie.getName();<span class="comment">//获得cookie中的key</span></span><br><span class="line">cookie.getValue();<span class="comment">//获得cookie中的value</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Cookie</span>(<span class="string">&quot;lastLoginTime&quot;</span>, System.currentTimeMillis()+<span class="string">&quot;&quot;</span>);<span class="comment">//新建一个cookie</span></span><br><span class="line">cookie.setMaxAge(<span class="number">24</span>*<span class="number">60</span>*<span class="number">60</span>);<span class="comment">//设置cookie有效期</span></span><br><span class="line">resp.addCookie(cookie);<span class="comment">//响应给客户端一个cookie</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">    doPost(req, resp);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">    <span class="comment">//服务器，告诉你，你来的时间，把这个时间封装成一个信件，你下次带来，我就知道你来了</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//解决中文乱码</span></span><br><span class="line">    resp.setContentType(<span class="string">&quot;text/html;charset=utf-8&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">PrintWriter</span> <span class="variable">out</span> <span class="operator">=</span> resp.getWriter();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Cookie,服务器从客户端获取</span></span><br><span class="line">    Cookie[] cookies = req.getCookies();<span class="comment">//这里返回数组，说明Cookie可能存在多个</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//判断Cookie是否存在</span></span><br><span class="line">    <span class="keyword">if</span> (cookies!=<span class="literal">null</span>)&#123;</span><br><span class="line">        <span class="comment">//如果存在取出我想要的数据</span></span><br><span class="line">        out.write(<span class="string">&quot;你上一次访问的时间：&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; cookies.length; i++) &#123;</span><br><span class="line">            Cookie cookie=cookies[i];</span><br><span class="line">            <span class="keyword">if</span> (cookie.getName().equals(<span class="string">&quot;lastLoginTime&quot;</span>))&#123;</span><br><span class="line">                <span class="comment">//获取Cookie的值</span></span><br><span class="line">                <span class="type">long</span> <span class="variable">lastLoginTime</span> <span class="operator">=</span> Long.parseLong(cookie.getValue());</span><br><span class="line">                <span class="type">Date</span> <span class="variable">date</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>(lastLoginTime);</span><br><span class="line">                out.write(date.toLocaleString());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        out.write(<span class="string">&quot;这是你第一次访问本站&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//服务器给客户端响应一个Cookie</span></span><br><span class="line">    <span class="type">Cookie</span> <span class="variable">cookie</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cookie</span>(<span class="string">&quot;lastLoginTime&quot;</span>, System.currentTimeMillis()+<span class="string">&quot;&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//有效期为一天</span></span><br><span class="line">    cookie.setMaxAge(<span class="number">24</span>*<span class="number">60</span>*<span class="number">60</span>);</span><br><span class="line"></span><br><span class="line">    resp.addCookie(cookie);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.loli.net/2022/12/11/zYWRhfu4GliLkQj.png" alt="image-20221114142803187"></p>
<p><img src="https://s2.loli.net/2022/12/11/Jpx5cRo4LmvNfkK.png" alt="image-20221114142914908"></p>
<p>当我们关闭浏览器后，会话就结束了，就涉及到一个Cookie有效期的问题</p>
<p><img src="https://s2.loli.net/2022/12/11/2BI6q1waOniPfSc.png" alt="image-20221114143103128">expiry就有一个到期的意思,我们可以设置有效期时间单位是：<strong>秒</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//有效期为一天</span></span><br><span class="line">cookie.setMaxAge(<span class="number">24</span>*<span class="number">60</span>*<span class="number">60</span>);</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.loli.net/2022/12/11/W6TkCQZ1K7aYGrX.png" alt="image-20221114143406264"></p>
<p>cookie:<strong>一般保存在本地的用户目录下appdata；</strong></p>
<p>一个网站cookie是否存在上限</p>
<ul>
<li>一个cookie只能保存一个信息</li>
<li>一个web站点可以给浏览器发送多个cookie,最多存放20个cookie</li>
<li>Cookie大小有限制4kb;</li>
<li>300个cookie浏览器上限</li>
</ul>
<p>删除cookie：</p>
<ul>
<li>不设置有效期，关闭浏览器，自动失效；</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">    <span class="comment">//创建一个cookie，名字必须和要删除的名字一致，因为键值对的原因，只能有一个key，会面创建的会覆盖</span></span><br><span class="line">    <span class="type">Cookie</span> <span class="variable">cookie</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cookie</span>(<span class="string">&quot;lastLoginTime&quot;</span>, System.currentTimeMillis()+<span class="string">&quot;&quot;</span>);</span><br><span class="line">    <span class="comment">//将cookie有效期设置为0，立马过期</span></span><br><span class="line">    cookie.setMaxAge(<span class="number">0</span>);</span><br><span class="line">    resp.addCookie(cookie);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>中文数据传递：</p>
<p>核心：编码解码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">URLDecoder.decode(cookie.getValue(), <span class="string">&quot;utf-8&quot;</span>);<span class="comment">//解码</span></span><br><span class="line">URLEncoder.encode(<span class="string">&quot;刘备&quot;</span>,<span class="string">&quot;utf-8&quot;</span>);<span class="comment">//编码</span></span><br></pre></td></tr></table></figure>

<p>完整代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//中文数据传递</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line"></span><br><span class="line">    resp.setContentType(<span class="string">&quot;text/html;charset=utf-8&quot;</span>);</span><br><span class="line"></span><br><span class="line">    Cookie[] cookies = req.getCookies();</span><br><span class="line">    <span class="type">PrintWriter</span> <span class="variable">out</span> <span class="operator">=</span> resp.getWriter();</span><br><span class="line">    <span class="keyword">if</span> (cookies!=<span class="literal">null</span>)&#123;</span><br><span class="line">        <span class="comment">//如果存在取出我想要的数据</span></span><br><span class="line">        out.write(<span class="string">&quot;你上一次访问的时间：&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; cookies.length; i++) &#123;</span><br><span class="line">            Cookie cookie=cookies[i];</span><br><span class="line">            <span class="keyword">if</span> (cookie.getName().equals(<span class="string">&quot;name&quot;</span>))&#123;</span><br><span class="line">                <span class="comment">//解码</span></span><br><span class="line">                <span class="type">String</span> <span class="variable">decode</span> <span class="operator">=</span> URLDecoder.decode(cookie.getValue(), <span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">                out.write(decode);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        out.write(<span class="string">&quot;这是你第一次访问本站&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="type">Cookie</span> <span class="variable">cookie</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cookie</span>(<span class="string">&quot;name&quot;</span>, URLEncoder.encode(<span class="string">&quot;刘备&quot;</span>,<span class="string">&quot;utf-8&quot;</span>));</span><br><span class="line">    resp.addCookie(cookie);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>











<h3 id="7-4Session-重点"><a href="#7-4Session-重点" class="headerlink" title="7.4Session(重点)"></a>7.4Session(重点)</h3><p>什么是Session:</p>
<ul>
<li>服务器会给每一个用户(浏览器)创建一个session对象；</li>
<li>一个Session独占一个浏览器，只要浏览器没有关闭，这个Session就存在；</li>
<li>用户登录session个网站它都可以访问–&gt;&gt;保存用户信息；保存购物车的信息……</li>
<li>session会话存活时间，默认是是30分钟</li>
<li>cookie会话存活时间，默认是一次会话</li>
</ul>
<p><img src="https://s2.loli.net/2022/12/11/5ZKed7SQfVPOkl6.png" alt="image-20221114233335743"></p>
<h4 id="存东西"><a href="#存东西" class="headerlink" title="存东西"></a>存东西</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">//解决乱码问题</span></span><br><span class="line">        resp.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        req.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        resp.setContentType(<span class="string">&quot;text/html;charset=utf-8&quot;</span>);</span><br><span class="line">        <span class="comment">//得到Session</span></span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> req.getSession();</span><br><span class="line">        <span class="comment">//给Session中存东西</span></span><br><span class="line">        session.setAttribute(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;李白&quot;</span>);</span><br><span class="line">        <span class="comment">//获取Session的ID</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">id</span> <span class="operator">=</span> session.getId();</span><br><span class="line">        <span class="comment">//判断Session是不是新的</span></span><br><span class="line">        <span class="keyword">if</span> (session.isNew())&#123;</span><br><span class="line">            resp.getWriter().write(<span class="string">&quot;Session创建成功,id为：&quot;</span>+id);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            resp.getWriter().write(<span class="string">&quot;Session以及在服务器中存在了，id:&quot;</span>+id);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.loli.net/2022/12/11/1T8CUmaFGlortAu.png" alt="image-20221114234057417"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//猜想Session为什么放在cookie中</span></span><br><span class="line"><span class="comment">//Session创建的时候做了什么事情</span></span><br><span class="line"><span class="type">Cookie</span> <span class="variable">cookie</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cookie</span>(<span class="string">&quot;JSESSIONID&quot;</span>,<span class="string">&quot;id&quot;</span>);</span><br><span class="line">resp.addCookie(cookie);</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.loli.net/2022/12/11/16lXTNDPikHqrUC.png" alt="image-20221114234142168"></p>
<h4 id="取出Session的东西"><a href="#取出Session的东西" class="headerlink" title="取出Session的东西"></a>取出Session的东西</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">    <span class="comment">//解决乱码问题</span></span><br><span class="line">    resp.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">    req.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">    resp.setContentType(<span class="string">&quot;text/html;charset=utf-8&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//得到Session</span></span><br><span class="line">    <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> req.getSession();</span><br><span class="line"></span><br><span class="line">    <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> (String) session.getAttribute(<span class="string">&quot;name&quot;</span>);</span><br><span class="line"></span><br><span class="line">    System.out.println(name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>Session还可以存对象(object)，现在有个person类</p>
<p>把他存入Session中</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">session.setAttribute(<span class="string">&quot;name&quot;</span>,<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;李白&quot;</span>,<span class="number">18</span>));</span><br></pre></td></tr></table></figure>

<p>取出：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> (Person) session.getAttribute(<span class="string">&quot;name&quot;</span>);</span><br><span class="line"></span><br><span class="line">System.out.println(person.toString());</span><br></pre></td></tr></table></figure>

<p>取出后，控制台：</p>
<p><img src="https://s2.loli.net/2022/12/11/84e96LNnMFBmJYt.png" alt="image-20221114235719993"></p>
<p>这里已经跨servlet了哦！！！！</p>
<h4 id="注销"><a href="#注销" class="headerlink" title="注销"></a>注销</h4><p>一个浏览器对应一个Session，左Edge，右Google</p>
<p><img src="https://s2.loli.net/2022/12/11/uv8zwPMtTqLQGU1.png" alt="image-20221115000109145"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">    <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> req.getSession();</span><br><span class="line">    session.removeAttribute(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">    session.invalidate();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>一旦注销掉了，就会创建一个新的Session,如果已经注销掉了，再去访问就会报空指针异常，这种方式是手动注销；</p>
<p>也可以设置一个自动过期时间，在配置文件中<strong>web.xml</strong>中有一个Session-config的配置</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">session-config</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--这个代表15分钟后，Session会自动失效--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">session-timeout</span>&gt;</span>15<span class="tag">&lt;/<span class="name">session-timeout</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">session-config</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>课外tip：浏览器大多数默认的过期失效时间大致都是一个月，也可以在浏览器中删除cookie的信息！</p>
<h4 id="Session和Cookie的区别"><a href="#Session和Cookie的区别" class="headerlink" title="Session和Cookie的区别"></a>Session和Cookie的区别</h4><ul>
<li>Cookie是把用户的数据写给用户的浏览器，浏览器保存</li>
<li>Session是把用户的数据写到用户独占的Session中，服务端保存(保存重要的东西，减少服务器的资源浪费)</li>
<li>Session对象由服务器创建</li>
</ul>
<h4 id="使用场景"><a href="#使用场景" class="headerlink" title="使用场景"></a>使用场景</h4><ul>
<li>保存一个登录用户的信息</li>
<li>购物车的信息</li>
<li>在整个网站中，经常会使用的数据，我们将他保存到Session中</li>
</ul>
<p><img src="https://s2.loli.net/2022/12/11/CkjKNgmOUAxacve.png" alt="image-20221115001611807"></p>
<p><img src="https://s2.loli.net/2022/12/11/KvyDY1Vsu6pAN7d.png" alt="image-20221115001810378"></p>
<p><img src="https://s2.loli.net/2022/12/11/iTtH4xhZ5j8dL6e.png" alt="image-20221115002059136"></p>
<p>ServletContext的作用域更高。</p>
<h2 id="8-JSP"><a href="#8-JSP" class="headerlink" title="8.JSP"></a>8.JSP</h2><h3 id="8-1什么是JSP"><a href="#8-1什么是JSP" class="headerlink" title="8.1什么是JSP"></a>8.1什么是JSP</h3><p>Java Servlet Pages：Java服务器端页面，和Servlet一样，用于动态web技术。</p>
<p>最大的特点：</p>
<ul>
<li>写JSP就像在写HTML</li>
<li>区别：<ul>
<li>HTML只给用户提供静态的数据</li>
<li>JSP页面中可以嵌入Java代码，为用户提供动态数据；</li>
</ul>
</li>
</ul>
<h3 id="8-2JSP原理"><a href="#8-2JSP原理" class="headerlink" title="8.2JSP原理"></a>8.2JSP原理</h3><h4 id="思路：JSP到底怎么执行的"><a href="#思路：JSP到底怎么执行的" class="headerlink" title="思路：JSP到底怎么执行的"></a>思路：JSP到底怎么执行的</h4><ul>
<li>代码层面没有任何问题</li>
<li>服务器内部工作</li>
</ul>
<p>​		tomcat中有一个work目录；</p>
<p><img src="https://s2.loli.net/2022/12/11/DEVsuxq7cTkZIRv.png" alt="image-20221115091226928"></p>
<p>​	IDEA中使用Tomcat的话会在IDEA的Tomcat中生产一个work目录</p>
<p>​	在IDEA中运行Tomcat，控制台第一句就是Tomcat的工作空间路径</p>
<p><img src="https://s2.loli.net/2022/12/11/Z3yeMnrbCDFwAV6.png" alt="image-20221115093051660"></p>
<p>我电脑的路径</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\ASUS\AppData\Local\JetBrains\IntelliJIdea2021.3\tomcat\8aa90ab8-92c5-4826-8d61-b1a269df5b1c\work\Catalina\localhost\Servlet\org\apache\jsp</span><br></pre></td></tr></table></figure>

<p>发现页面转变为了Java程序</p>
<p><img src="https://s2.loli.net/2022/12/11/FDQ9GdLfVAbPqUY.png" alt="image-20221115093311732"></p>
<p><strong>浏览器向服务器发送请求，不管访问什么资源，其实都是在访问Servlet！</strong></p>
<p>JSP最终都会被转换成为一个Java类！</p>
<p>接下来点开源码</p>
<p><img src="https://s2.loli.net/2022/12/11/fVds1Acq4PvbGlO.png" alt="image-20221115102103524"></p>
<p><img src="https://s2.loli.net/2022/12/11/f7eXLakh2id1DtF.png" alt="image-20221115102440041"></p>
<p>JSP继承于HttpServlet；</p>
<p><strong>JSP本质上就是一个Servlet</strong></p>
<p><img src="https://s2.loli.net/2022/12/11/WzIkxta6UmwdEL8.png" alt="image-20221115102645035"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//初始化</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">_jspInit</span><span class="params">()</span> &#123;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="comment">//销毁</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">_jspDestroy</span><span class="params">()</span> &#123;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="comment">//JSPService</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">_jspService</span><span class="params">(HttpServletRequest request,HttpServletResponse response)</span></span><br><span class="line">      <span class="keyword">throws</span> java.io.IOException, javax.servlet.ServletException &#123;</span><br></pre></td></tr></table></figure>

<h4 id="1-判断请求"><a href="#1-判断请求" class="headerlink" title="1.判断请求"></a>1.判断请求</h4><h4 id="2-内置了一些对象"><a href="#2-内置了一些对象" class="headerlink" title="2.内置了一些对象"></a>2.内置了一些对象</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> javax.servlet.jsp.PageContext pageContext;               <span class="comment">//页面上下文</span></span><br><span class="line">javax.servlet.http.<span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> <span class="literal">null</span>;				   <span class="comment">//Session</span></span><br><span class="line"><span class="keyword">final</span> javax.servlet.ServletContext application;				   <span class="comment">//applicationContext</span></span><br><span class="line"><span class="keyword">final</span> javax.servlet.ServletConfig config;					   <span class="comment">//config</span></span><br><span class="line">javax.servlet.jsp.<span class="type">JspWriter</span> <span class="variable">out</span> <span class="operator">=</span> <span class="literal">null</span>;                        <span class="comment">//out</span></span><br><span class="line"><span class="keyword">final</span> java.lang.<span class="type">Object</span> <span class="variable">page</span> <span class="operator">=</span> <span class="built_in">this</span>;                            <span class="comment">//page:当前页</span></span><br><span class="line">HttpServletRequest request									   <span class="comment">//请求</span></span><br><span class="line">HttpServletResponse response								   <span class="comment">//响应</span></span><br></pre></td></tr></table></figure>

<h4 id="3-输出页面前增加的代码"><a href="#3-输出页面前增加的代码" class="headerlink" title="3.输出页面前增加的代码"></a>3.输出页面前增加的代码</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">response.setContentType(<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);                     <span class="comment">//设置了响应的页面类型</span></span><br><span class="line">      pageContext = _jspxFactory.getPageContext(<span class="built_in">this</span>, request, response, <span class="comment">//this代表本身</span></span><br><span class="line">      			<span class="literal">null</span>, <span class="literal">true</span>, <span class="number">8192</span>, <span class="literal">true</span>);</span><br><span class="line">      _jspx_page_context = pageContext;</span><br><span class="line">      application = pageContext.getServletContext();          </span><br><span class="line">      config = pageContext.getServletConfig();</span><br><span class="line">      session = pageContext.getSession();</span><br><span class="line">      out = pageContext.getOut();</span><br><span class="line">      _jspx_out = out;</span><br></pre></td></tr></table></figure>

<h4 id="4-以上的对象，我们可以在JSP页面中直接使用"><a href="#4-以上的对象，我们可以在JSP页面中直接使用" class="headerlink" title="4.以上的对象，我们可以在JSP页面中直接使用"></a>4.以上的对象，我们可以在JSP页面中直接使用</h4><p><img src="https://s2.loli.net/2022/12/11/eQAEVuTSfDrw2Wd.png" alt="image-20221115111157861"></p>
<p><img src="https://s2.loli.net/2022/12/11/SVumOHl6LahA5gb.png" alt="image-20221115112105367"></p>
<p>在JSP页面中：</p>
<p>只要是Java代码就会原封不动输出</p>
<p>如果是HTML代码就会被转换为：</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">out.write(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">out.write(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">out.write(<span class="string">&quot;&lt;html&gt;\n&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>这种形式输出到前端</p>
<h3 id="8-3JSP基础语法"><a href="#8-3JSP基础语法" class="headerlink" title="8.3JSP基础语法"></a>8.3JSP基础语法</h3><p>任何语言都有自己的语法，Java中有，JSP作为Java技术的一种应用，它拥有一些自己的扩充的语法(了解，知道即可！)，Java所有语法都支持！</p>
<h4 id="JSP表达式"><a href="#JSP表达式" class="headerlink" title="JSP表达式"></a>JSP表达式</h4><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;%--JSP表达式</span><br><span class="line">作用：用来将程序的输出，输出到客户端</span><br><span class="line">&lt;%= 变量或者表达式%&gt;</span><br><span class="line">--%&gt;</span><br><span class="line">&lt;%=<span class="keyword">new</span> <span class="title class_">java</span>.util.Date()%&gt;&gt;</span><br></pre></td></tr></table></figure>





<h4 id="JSP脚本片段"><a href="#JSP脚本片段" class="headerlink" title="JSP脚本片段"></a>JSP脚本片段</h4><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;%--JSP脚本片段--%&gt;</span><br><span class="line">&lt;%</span><br><span class="line">  <span class="type">int</span> sum=<span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;=<span class="number">100</span>; i++) &#123;</span><br><span class="line">    sum+=i;</span><br><span class="line">  &#125;</span><br><span class="line">  out.write(<span class="string">&quot;&lt;h1&gt;&quot;</span>+sum+<span class="string">&quot;&lt;/h1&gt;&quot;</span>);</span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure>



<h4 id="脚本片段的再实现"><a href="#脚本片段的再实现" class="headerlink" title="脚本片段的再实现"></a>脚本片段的再实现</h4><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;%--在代码中嵌入HTML元素--%&gt;</span><br><span class="line">&lt;%</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">%&gt;</span><br><span class="line">&lt;h1&gt;Hello World&lt;/h1&gt;</span><br><span class="line">&lt;%</span><br><span class="line">  &#125;</span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure>





<h4 id="JSP声明"><a href="#JSP声明" class="headerlink" title="JSP声明"></a>JSP声明</h4><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;%!</span><br><span class="line">  <span class="keyword">static</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Loading Servlet&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">private</span> <span class="type">int</span> globaVar=<span class="number">0</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">learn</span><span class="params">()</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;进入了learn方法&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.loli.net/2022/12/11/wF9DWK6oL8IlJ2p.png" alt="image-20221115190127227"></p>
<p>JSP声明：会被编译到JSP生成的JAVA类中！其他的(表达式，片段..)就会被生成到<code>public void _jspService()</code>方法中</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;%%&gt;    <span class="comment">//片段</span></span><br><span class="line">&lt;%=%&gt;	<span class="comment">//输出值</span></span><br><span class="line">&lt;%!%&gt;	<span class="comment">//全局</span></span><br><span class="line"></span><br><span class="line">&lt;%--注解--%&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--我是HTML的注释--&gt;</span><br><span class="line">&lt;%--我是JSP的注释--%&gt;</span><br></pre></td></tr></table></figure>

<p><strong>注意</strong>：JSP的注释不会在客户端显示，但是可以通过抓包的方式拿到，HTML的注释就会在客户端显示</p>
<h3 id="8-4JSP指令"><a href="#8-4JSP指令" class="headerlink" title="8.4JSP指令"></a>8.4JSP指令</h3><p>&lt;%@ 下面的东西：</p>
<p><img src="https://s2.loli.net/2022/12/11/J8ptoReYncwumWx.png" alt="image-20221115191756233"></p>
<p><img src="https://s2.loli.net/2022/12/11/juwnoRMOfApir5K.png" alt="image-20221115191714949"></p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page args....%&gt;</span><br><span class="line">&lt;%@ include file=<span class="string">&quot;&quot;</span>%&gt;</span><br><span class="line">&lt;jsp:include page=<span class="string">&quot;&quot;</span>/&gt;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.loli.net/2022/12/11/hLdtlvFugbrcVO5.png" alt="image-20221115193429646"></p>
<p><strong>@ include</strong>上面这种会将两个页面合二为一</p>
<p><strong>jsp:include</strong>拼接页面，本质还是三个，灵活性更高，推荐使用这种方式</p>
<h3 id="8-5JSP九大内置对象和作用域"><a href="#8-5JSP九大内置对象和作用域" class="headerlink" title="8.5JSP九大内置对象和作用域"></a>8.5JSP九大内置对象和作用域</h3><ul>
<li>PageContext  <strong>存东西</strong></li>
<li>Request   <strong>存东西</strong></li>
<li>Response</li>
<li>Session       <strong>存东西</strong></li>
<li>Application         [ServletContext]    <strong>存东西</strong></li>
<li>cofig                    [ServletConfig]</li>
<li>out</li>
<li>page,基本不用</li>
<li>Exception</li>
</ul>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">&lt;%--内置对象--%&gt;</span><br><span class="line">&lt;%</span><br><span class="line">    pageContext.setAttribute(<span class="string">&quot;name1&quot;</span>,<span class="string">&quot;李白1号&quot;</span>);<span class="comment">//保存的数据只在一个页面中有效</span></span><br><span class="line">    request.setAttribute(<span class="string">&quot;name2&quot;</span>,<span class="string">&quot;李白2号&quot;</span>);    <span class="comment">//保存的数据只在一次请求中有效，请求转发会携带这个数据</span></span><br><span class="line">    session.setAttribute(<span class="string">&quot;name3&quot;</span>,<span class="string">&quot;李白3号&quot;</span>);    <span class="comment">//保存的数据只在一次会话中有效，从打开浏览器到关闭</span></span><br><span class="line">    application.setAttribute(<span class="string">&quot;name4&quot;</span>,<span class="string">&quot;李白4号&quot;</span>);<span class="comment">//保存的数据只在服务器中有效，从打开服务器到关闭服务器</span></span><br><span class="line">%&gt;</span><br><span class="line"></span><br><span class="line">&lt;%--通过pageContext取出我们保存的值--%&gt;</span><br><span class="line">&lt;%--脚本片段中的代码，会被原封不懂生成.jsp.java</span><br><span class="line">要求：这里面的代码，必须保证Java语法的正确性</span><br><span class="line">--%&gt;</span><br><span class="line">&lt;%</span><br><span class="line">    <span class="comment">//从pageContext取出，我们通过寻找的方式来</span></span><br><span class="line">    <span class="comment">//从底层到高层(作用域)      page--&gt;request--&gt;session--&gt;application</span></span><br><span class="line">    <span class="comment">//JVM:双亲委派机制</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">name1</span> <span class="operator">=</span> (String) pageContext.findAttribute(<span class="string">&quot;name1&quot;</span>);</span><br><span class="line">    <span class="type">String</span> <span class="variable">name2</span> <span class="operator">=</span> (String) pageContext.findAttribute(<span class="string">&quot;name2&quot;</span>);</span><br><span class="line">    <span class="type">String</span> <span class="variable">name3</span> <span class="operator">=</span> (String) pageContext.findAttribute(<span class="string">&quot;name3&quot;</span>);</span><br><span class="line">    <span class="type">String</span> <span class="variable">name4</span> <span class="operator">=</span> (String) pageContext.findAttribute(<span class="string">&quot;name4&quot;</span>);</span><br><span class="line">    <span class="type">String</span> <span class="variable">name5</span> <span class="operator">=</span> (String) pageContext.findAttribute(<span class="string">&quot;name5&quot;</span>);</span><br><span class="line">%&gt;</span><br><span class="line"></span><br><span class="line">&lt;%--使用EL表达式输出 $&#123;&#125;--%&gt;</span><br><span class="line">&lt;h1&gt;取出的值为：&lt;/h1&gt;</span><br><span class="line">&lt;h3&gt;$&#123;name1&#125;&lt;/h3&gt;</span><br><span class="line">&lt;h3&gt;$&#123;name2&#125;&lt;/h3&gt;</span><br><span class="line">&lt;h3&gt;$&#123;name3&#125;&lt;/h3&gt;</span><br><span class="line">&lt;h3&gt;$&#123;name4&#125;&lt;/h3&gt;</span><br><span class="line">&lt;h3&gt;$&#123;name5&#125;&lt;/h3&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<p>request：客户端向服务器发送请求，产生的数据，用户看完就没用了，比如：新闻，用户看完没用的</p>
<p>session：客户端向服务器发送请求，产生的数据，用户用完一会还有用，比如：购物车；</p>
<p>application：客户端向服务器发送请求，产生的数据，一个用户用完了，其他用户还可能使用，比如：聊天的数据</p>
<p>扩展：JVM：双亲委派机制</p>
<p><strong>双亲委派机制是指当一个类加载器收到一个类加载请求时，该类加载器首先会把请求委派给父类加载器</strong>。 每个类加载器都是如此，只有在父类加载器在自己的搜索范围内找不到指定类时，子类加载器才会尝试自己去加载。 1.当Application ClassLoader 收到一个类加载请求时，他首先不会自己去尝试加载这个类，而是将这个请求委派给父类加载器Extension ClassLoader去完成。</p>
<p><img src="https://s2.loli.net/2022/12/11/BusFx2l5q7hWtzd.png" alt="双亲委派机制"></p>
<h3 id="8-6JSP标签，JSTL标签，EL表达式"><a href="#8-6JSP标签，JSTL标签，EL表达式" class="headerlink" title="8.6JSP标签，JSTL标签，EL表达式"></a>8.6JSP标签，JSTL标签，EL表达式</h3><p>EL表达式：${}</p>
<ul>
<li><strong>获取数据</strong></li>
<li><strong>执行运算</strong></li>
<li><strong>获取web开发的常用对象</strong></li>
<li>注意：</li>
<li>1.el表达式没有null(也没有空指针错误)</li>
<li>2.el表达式没有数组越界异常</li>
<li>3.el表达式没有字符串的拼接</li>
<li>4.从集合中拿数据推荐使用 <code>$&#123;集合名[&quot;key&quot;]&#125;</code></li>
</ul>
<p><strong>JSP标签:</strong></p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;%--jsp:include--%&gt;</span><br><span class="line"></span><br><span class="line">&lt;%--</span><br><span class="line">    http:<span class="comment">//localhost:8080/jsptag.jsp?name=libai&amp;age=18</span></span><br><span class="line">--%&gt;</span><br><span class="line">&lt;jsp:forward page=<span class="string">&quot;/jsptag2.jsp&quot;</span>&gt;</span><br><span class="line">    &lt;jsp:param name=<span class="string">&quot;name&quot;</span> value=<span class="string">&quot;libai&quot;</span>/&gt;</span><br><span class="line">    &lt;jsp:param name=<span class="string">&quot;age&quot;</span> value=<span class="string">&quot;12&quot;</span>/&gt;</span><br><span class="line">&lt;/jsp:forward&gt;</span><br></pre></td></tr></table></figure>





<p><strong>JSTL表达式</strong>(了解)</p>
<p>JSTL标签库的使用就是为了弥补HTML标签的不足,可以供我们使用，标签的功能和Java代码一样！</p>
<p><strong>核心标签</strong></p>
<p><img src="https://s2.loli.net/2022/12/11/ydLx5nNaQrH6msM.png" alt="image-20221116200015501"></p>
<p><strong>格式化标签</strong></p>
<p><strong>SQL标签</strong></p>
<p><strong>XML标签</strong></p>
<p>JSTL标签库使用步骤</p>
<ul>
<li>引入对应的taglib</li>
<li>使用其中的方法</li>
<li>在Tomcat也需要引入jstl的包，否则就会报错：<strong>JSTL解析错误</strong></li>
</ul>
<h2 id="9-JavaBean"><a href="#9-JavaBean" class="headerlink" title="9.JavaBean"></a>9.JavaBean</h2><p>实体类<br>JavaBean有特定的方法：</p>
<ul>
<li>必须要有一个无参构造</li>
<li>属性必须私有化</li>
<li>必须有对应的get&#x2F;set方法</li>
</ul>
<p>一般用来和数据库的字段来做映射：ORM；</p>
<p>ORM：对象关系映射</p>
<ul>
<li>表—-&gt;类</li>
<li>字段—&gt;属性</li>
<li>行记录—&gt;对象</li>
</ul>
<p>people表</p>
<table>
<thead>
<tr>
<th>id</th>
<th>name</th>
<th>password</th>
<th>address</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>李白</td>
<td>123</td>
<td>四川</td>
</tr>
<tr>
<td>2</td>
<td>露娜</td>
<td>1234</td>
<td>上海</td>
</tr>
<tr>
<td>3</td>
<td>韩信</td>
<td>12345</td>
<td>广州</td>
</tr>
</tbody></table>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">People</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">    <span class="keyword">private</span> String address;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>&#123;</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">People</span>(<span class="number">1</span>,<span class="string">&quot;李白&quot;</span>，<span class="string">&quot;123&quot;</span>，<span class="string">&quot;四川&quot;</span>);</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">People</span>(<span class="number">2</span>,<span class="string">&quot;露娜&quot;</span>，<span class="string">&quot;1234&quot;</span>，<span class="string">&quot;上海&quot;</span>);</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">People</span>(<span class="number">3</span>,<span class="string">&quot;韩信&quot;</span>，<span class="string">&quot;1235&quot;</span>，<span class="string">&quot;广州&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>









<h2 id="10-MVC三层架构"><a href="#10-MVC三层架构" class="headerlink" title="10.MVC三层架构"></a>10.MVC三层架构</h2><p>什么是：MVC:Model    View    Controller  模型，视图，控制器</p>
<h3 id="10-1早期架构"><a href="#10-1早期架构" class="headerlink" title="10.1早期架构"></a>10.1早期架构</h3><p><img src="https://s2.loli.net/2022/12/11/a4JTxXhLvQ9F3UG.png" alt="image-20221116203409154"></p>
<p>用户直接访问控制层，控制层就可以直接操作数据库；</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">servlet--CRUD(增删查改)--数据库</span><br><span class="line">弊端：程序十分臃肿，不利于维护</span><br><span class="line">servlet的代码中：处理请求、响应、视图条状、处理JDBC、处理业务代码</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">架构：没有什么是加一层解决不了的！</span><br><span class="line">    程序员调用</span><br><span class="line">    |</span><br><span class="line">    |</span><br><span class="line">    JDBC</span><br><span class="line">    |</span><br><span class="line">    |</span><br><span class="line">    Mysql  Oracle  Sqlserver.....</span><br></pre></td></tr></table></figure>



<h3 id="10-2三层架构"><a href="#10-2三层架构" class="headerlink" title="10.2三层架构"></a>10.2三层架构</h3><p><img src="https://s2.loli.net/2022/12/11/Cb49S3icxwzpVng.png" alt="image-20221116221804575"></p>
<p>Model</p>
<ul>
<li>业务处理：业务逻辑(Service)</li>
<li>数据持久层:CRUD  （Dao）</li>
</ul>
<p>View</p>
<ul>
<li>展示数据</li>
<li>提供链接发起Servlet请求   （a,form ,img…）</li>
</ul>
<p>Controller</p>
<ul>
<li>接收用户的请求：（req：请求参数，Sessiion信息…）</li>
<li>交给业务层处理对应的代码</li>
<li>控制视图的跳转</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">登录---&gt;接收用户的登录请求---&gt;处理用户的请求(获取用户登录的参数，username，password)---&gt;交给业务层处理登录业务(判断用户名密码是否正确:事务)---&gt;Dao层查询用户名和密码是否正确---&gt;数据库</span><br></pre></td></tr></table></figure>







<h2 id="11-过滤器-Filter"><a href="#11-过滤器-Filter" class="headerlink" title="11.过滤器(Filter)"></a>11.过滤器(Filter)</h2><p>Filter:过滤器，用来过滤网站的数据；</p>
<ul>
<li>处理中文乱码</li>
<li>登录验证……</li>
</ul>
<p><img src="https://s2.loli.net/2022/12/11/7vl6QINVK2MxZ1f.png" alt="image-20221117123609678"></p>
<p>Filter开发步骤：</p>
<p>1.导包</p>
<p>2.编写过滤器</p>
<ol>
<li>导包不要错</li>
</ol>
<ul>
<li><img src="https://s2.loli.net/2022/12/11/18ZEcAnOQSNRXVo.png" alt="image-20221117124249819"></li>
</ul>
<p>2.编写filter过滤器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CharacterEncodingFilter</span> <span class="keyword">implements</span> <span class="title class_">Filter</span> &#123;</span><br><span class="line">    <span class="comment">//初始化</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;CharacterEncodingFilter初始化&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Chain：链</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    * 1.过滤器中的所有代码，在过滤特定请求的时候都会执行</span></span><br><span class="line"><span class="comment">    * 2.必须要让过滤器继续通行，因为也会会存在多个过滤器</span></span><br><span class="line"><span class="comment">    * filterChain.doFilter(servletRequest,servletResponse);</span></span><br><span class="line"><span class="comment">    * */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line">        servletRequest.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        servletResponse.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        servletResponse.setContentType(<span class="string">&quot;text/html;charset=utf-8&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;CharacterEncodingFilter执行前...&quot;</span>);</span><br><span class="line">        filterChain.doFilter(servletRequest,servletResponse);<span class="comment">//让我们的请求继续走，如果不写，程序到这里就被拦截停止！</span></span><br><span class="line">        System.out.println(<span class="string">&quot;CharacterEncodingFilter执行后...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//销毁</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;CharacterEncodingFilter销毁&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>3.配置XML</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>com.ldd.filter.CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--只要是/servlet的任何请求，会经过这个过滤器--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/Servlet/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>4.@WebFilter</p>
<p>使用注解开发，默认的值url-pattern</p>
<h2 id="12-监听器"><a href="#12-监听器" class="headerlink" title="12.监听器"></a>12.监听器</h2><p>实现一个监听器的接口；(用N种)</p>
<p>1.编写一个监听器<br>        实现监听器的接口…</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//统计网站在线人数: 统计Session</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OnlineCountListener</span> <span class="keyword">implements</span> <span class="title class_">HttpSessionListener</span> &#123;</span><br><span class="line">    <span class="comment">//创建监听: 看你的一举一动</span></span><br><span class="line">    <span class="comment">//一旦创建Session就会触发一次这个事件！</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sessionCreated</span><span class="params">(HttpSessionEvent se)</span> &#123;</span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">ctx</span> <span class="operator">=</span> se.getSession().getServletContext();</span><br><span class="line"></span><br><span class="line">        <span class="type">Integer</span> <span class="variable">onlineCount</span> <span class="operator">=</span> (Integer) ctx.getAttribute(<span class="string">&quot;OnlineCount&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (onlineCount==<span class="literal">null</span>)&#123;</span><br><span class="line">            onlineCount=<span class="keyword">new</span> <span class="title class_">Integer</span>(<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="type">int</span> count=onlineCount.intValue();</span><br><span class="line">            onlineCount=<span class="keyword">new</span> <span class="title class_">Integer</span>(count+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        ctx.setAttribute(<span class="string">&quot;OnlineCount&quot;</span>,onlineCount);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//销毁Session监听</span></span><br><span class="line">    <span class="comment">//一旦销毁Session就会触发一次这个事件！</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sessionDestroyed</span><span class="params">(HttpSessionEvent se)</span> &#123;</span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">ctx</span> <span class="operator">=</span> se.getSession().getServletContext();</span><br><span class="line"></span><br><span class="line">        <span class="type">Integer</span> <span class="variable">onlineCount</span> <span class="operator">=</span> (Integer) ctx.getAttribute(<span class="string">&quot;OnlineCount&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (onlineCount==<span class="literal">null</span>)&#123;</span><br><span class="line">            onlineCount=<span class="keyword">new</span> <span class="title class_">Integer</span>(<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="type">int</span> count=onlineCount.intValue();</span><br><span class="line">            onlineCount=<span class="keyword">new</span> <span class="title class_">Integer</span>(count-<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        ctx.setAttribute(<span class="string">&quot;OnlineCount&quot;</span>,onlineCount);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>2.web.xml中注册监听器</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--注册监听器--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">listener</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">listener-class</span>&gt;</span>com.ldd.listener.OnlineCountListener<span class="tag">&lt;/<span class="name">listener-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">listener</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>3.看情况是否使用，开多种浏览器即可看到在线人数</p>
<h2 id="13-过滤器，监听器的常见应用"><a href="#13-过滤器，监听器的常见应用" class="headerlink" title="13.过滤器，监听器的常见应用"></a>13.过滤器，监听器的常见应用</h2><h4 id="监听器：GUI编程中经常使用"><a href="#监听器：GUI编程中经常使用" class="headerlink" title="监听器：GUI编程中经常使用"></a>监听器：GUI编程中经常使用</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestPanel</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Frame</span> <span class="variable">frame</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Frame</span>(<span class="string">&quot;你好&quot;</span>);<span class="comment">//新建一个窗体</span></span><br><span class="line">        <span class="type">Panel</span> <span class="variable">panel</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Panel</span>();<span class="comment">//面板</span></span><br><span class="line">        frame.setLayout(<span class="literal">null</span>);<span class="comment">//设置窗体的布局</span></span><br><span class="line"></span><br><span class="line">        frame.setBounds(<span class="number">300</span>,<span class="number">300</span>,<span class="number">500</span>,<span class="number">500</span>);</span><br><span class="line">        frame.setBackground(<span class="keyword">new</span> <span class="title class_">Color</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">255</span>));<span class="comment">//设置背景颜色</span></span><br><span class="line"></span><br><span class="line">        panel.setBounds(<span class="number">50</span>,<span class="number">50</span>,<span class="number">300</span>,<span class="number">300</span>);</span><br><span class="line">        panel.setBackground(<span class="keyword">new</span> <span class="title class_">Color</span>(<span class="number">0</span>,<span class="number">255</span>,<span class="number">0</span>));<span class="comment">//设置背景颜色</span></span><br><span class="line"></span><br><span class="line">        frame.add(panel);</span><br><span class="line"></span><br><span class="line">        frame.setVisible(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//监听事件，监听关闭事件</span></span><br><span class="line">        frame.addWindowListener(<span class="keyword">new</span> <span class="title class_">WindowAdapter</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">windowOpened</span><span class="params">(WindowEvent e)</span> &#123;</span><br><span class="line">                <span class="built_in">super</span>.windowClosing(e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>









<h4 id="使用过滤器实现拦截器效果"><a href="#使用过滤器实现拦截器效果" class="headerlink" title="使用过滤器实现拦截器效果"></a>使用过滤器实现拦截器效果</h4><p>用户登录后才能进入主页！用户注销后就不能进去主页了！</p>
<h5 id="注销Servlet"><a href="#注销Servlet" class="headerlink" title="注销Servlet"></a>注销Servlet</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LogoutServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">Object</span> <span class="variable">user_session</span> <span class="operator">=</span> req.getSession().getAttribute(<span class="string">&quot;USER_SESSION&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (user_session!=<span class="literal">null</span>)&#123;</span><br><span class="line">            req.getSession().removeAttribute(<span class="string">&quot;USER_SESSION&quot;</span>);</span><br><span class="line">            resp.sendRedirect(<span class="string">&quot;/Login.jsp&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        doGet(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="没有使用过滤器，可以直接写到jsp页面中，但是这种方式违背了MVC三层架构的思想，VIEW只做视图展示，不写逻辑业务逻辑"><a href="#没有使用过滤器，可以直接写到jsp页面中，但是这种方式违背了MVC三层架构的思想，VIEW只做视图展示，不写逻辑业务逻辑" class="headerlink" title="没有使用过滤器，可以直接写到jsp页面中，但是这种方式违背了MVC三层架构的思想，VIEW只做视图展示，不写逻辑业务逻辑"></a>没有使用过滤器，可以直接写到jsp页面中，但是这种方式违背了MVC三层架构的思想，VIEW只做视图展示，不写逻辑业务逻辑</h5><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;%--&lt;%</span><br><span class="line">    <span class="type">Object</span> <span class="variable">user_session</span> <span class="operator">=</span> request.getSession().getAttribute(<span class="string">&quot;USER_SESSION&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (user_session==<span class="literal">null</span>)&#123;</span><br><span class="line">        response.sendRedirect(<span class="string">&quot;/Login.jsp&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">%&gt;--%&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;h1&gt;主页&lt;/h1&gt;</span><br><span class="line">&lt;p&gt;&lt;a href=<span class="string">&quot;/servlet/logout&quot;</span>&gt;注销&lt;/a&gt;&lt;/p&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>



<h5 id="过滤器："><a href="#过滤器：" class="headerlink" title="过滤器："></a>过滤器：</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SysFilter</span> <span class="keyword">implements</span> <span class="title class_">Filter</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line">        Filter.<span class="built_in">super</span>.init(filterConfig);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doFilter</span><span class="params">(ServletRequest request, ServletResponse response, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line">        <span class="comment">//ServletRequest    HttpRequest</span></span><br><span class="line">        <span class="type">HttpServletRequest</span> <span class="variable">req</span> <span class="operator">=</span> (HttpServletRequest) request;</span><br><span class="line">        <span class="type">HttpServletResponse</span> <span class="variable">resp</span> <span class="operator">=</span> (HttpServletResponse) response;</span><br><span class="line">        <span class="comment">//判断有没有Session，没有就直接重定向到错误页面</span></span><br><span class="line">        <span class="type">Object</span> <span class="variable">user_session</span> <span class="operator">=</span> req.getSession().getAttribute(<span class="string">&quot;USER_SESSION&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (user_session==<span class="literal">null</span>)&#123;</span><br><span class="line">            resp.sendRedirect(<span class="string">&quot;/error.jsp&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        filterChain.doFilter(request,response);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> &#123;</span><br><span class="line">        Filter.<span class="built_in">super</span>.destroy();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="配置xml："><a href="#配置xml：" class="headerlink" title="配置xml："></a>配置xml：</h5><p>配置过滤器的和注销的Servlet</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>SysFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>com.ldd.filter.SysFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>SysFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--只要是/sys的任何请求，会经过这个过滤器，用于展示用户的所有东西--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/sys/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>LogoutServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.ldd.servlet.LogoutServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>LogoutServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/servlet/logout<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>







<h2 id="14-JDBC"><a href="#14-JDBC" class="headerlink" title="14.JDBC"></a>14.JDBC</h2><p>可以参考以前的文章，这里不赘述了！</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://humbledong.github.io">小东</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://humbledong.github.io/undefined/6af6e090.html">https://humbledong.github.io/undefined/6af6e090.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://humbledong.github.io" target="_blank">七岁就很浪</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Tomcat/">Tomcat</a><a class="post-meta__tags" href="/tags/Maven/">Maven</a></div><div class="post_share"><div class="social-share" data-image="https://s2.loli.net/2022/12/13/EGx6b7s9w2vpX5k.webp" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/undefined/69e9abfd.html" title="JavaSE学习总结"><img class="cover" src="https://s2.loli.net/2022/12/26/G1wQdNer3UkLJgI.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">JavaSE学习总结</div></div></a></div><div class="next-post pull-right"><a href="/undefined/4a17b156.html" title="Hello World"><img class="cover" src="https://s2.loli.net/2022/12/13/NCusyVczReUYBJ8.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Hello World</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://s2.loli.net/2022/12/13/7IplWivFU3TDOBx.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">小东</div><div class="author-info__description">世界很大，我想去看看</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">5</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">9</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#JavaWeb"><span class="toc-number">1.</span> <span class="toc-text">JavaWeb</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">1.1.</span> <span class="toc-text">1.基本概念</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1%E5%89%8D%E8%A8%80"><span class="toc-number">1.1.1.</span> <span class="toc-text">1.1前言</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2web%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F"><span class="toc-number">1.1.2.</span> <span class="toc-text">1.2web应用程序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3%E9%9D%99%E6%80%81web"><span class="toc-number">1.1.3.</span> <span class="toc-text">1.3静态web</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4%E5%8A%A8%E6%80%81web"><span class="toc-number">1.1.4.</span> <span class="toc-text">1.4动态web</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Web%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">1.2.</span> <span class="toc-text">2.Web服务器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1%E6%8A%80%E6%9C%AF%E8%AE%B2%E8%A7%A3"><span class="toc-number">1.2.1.</span> <span class="toc-text">2.1技术讲解</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-Tomcat"><span class="toc-number">1.3.</span> <span class="toc-text">3.Tomcat</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1%E6%96%87%E4%BB%B6%E5%A4%B9%E7%9A%84%E4%BD%9C%E7%94%A8%EF%BC%9A"><span class="toc-number">1.3.1.</span> <span class="toc-text">3.1文件夹的作用：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2%E5%90%AF%E5%8A%A8%E5%92%8C%E5%85%B3%E9%97%AD"><span class="toc-number">1.3.2.</span> <span class="toc-text">3.2启动和关闭</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3%E9%85%8D%E7%BD%AE"><span class="toc-number">1.3.3.</span> <span class="toc-text">3.3配置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-1%E4%BD%8D%E7%BD%AE"><span class="toc-number">1.3.3.1.</span> <span class="toc-text">3.3.1位置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-2%E5%8F%AF%E4%BB%A5%E9%85%8D%E7%BD%AE%E5%90%AF%E5%8A%A8%E7%9A%84%E7%AB%AF%E5%8F%A3%E5%8F%B7"><span class="toc-number">1.3.3.2.</span> <span class="toc-text">3.3.2可以配置启动的端口号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-3%E5%8F%AF%E4%BB%A5%E9%85%8D%E7%BD%AE%E4%B8%BB%E6%9C%BA%E7%9A%84%E5%90%8D%E7%A7%B0"><span class="toc-number">1.3.3.3.</span> <span class="toc-text">3.3.3可以配置主机的名称</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4%E5%8F%91%E5%B8%83%E4%B8%80%E4%B8%AAweb%E7%BD%91%E7%AB%99"><span class="toc-number">1.3.4.</span> <span class="toc-text">3.4发布一个web网站</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-HTTP"><span class="toc-number">1.4.</span> <span class="toc-text">4.HTTP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1%E4%BB%80%E4%B9%88%E6%98%AFHTTP"><span class="toc-number">1.4.1.</span> <span class="toc-text">4.1什么是HTTP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2%E4%B8%A4%E4%B8%AA%E6%97%B6%E4%BB%A3"><span class="toc-number">1.4.2.</span> <span class="toc-text">4.2两个时代</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3HTTP%E8%AF%B7%E6%B1%82"><span class="toc-number">1.4.3.</span> <span class="toc-text">4.3HTTP请求</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4HTTP%E5%93%8D%E5%BA%94"><span class="toc-number">1.4.4.</span> <span class="toc-text">4.4HTTP响应</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-Maven"><span class="toc-number">1.5.</span> <span class="toc-text">5.Maven</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1Maven%E6%9E%B6%E6%9E%84%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7"><span class="toc-number">1.5.1.</span> <span class="toc-text">5.1Maven架构管理工具</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2%E4%B8%8B%E8%BD%BD%E4%B8%8E%E5%AE%89%E8%A3%85"><span class="toc-number">1.5.2.</span> <span class="toc-text">5.2下载与安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3%E9%85%8D%E7%BD%AEMaven%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">1.5.3.</span> <span class="toc-text">5.3配置Maven环境变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4%E4%BF%AE%E6%94%B9%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E2%80%93-gt-%E6%B7%BB%E5%8A%A0%E9%98%BF%E9%87%8C%E4%BA%91%E9%95%9C%E5%83%8F"><span class="toc-number">1.5.4.</span> <span class="toc-text">5.4修改配置文件–&gt;添加阿里云镜像</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5%E6%9C%AC%E5%9C%B0%E4%BB%93%E5%BA%93"><span class="toc-number">1.5.5.</span> <span class="toc-text">5.5本地仓库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-6%E5%9C%A8IDEA%E4%B8%AD%E4%BD%BF%E7%94%A8Maven"><span class="toc-number">1.5.6.</span> <span class="toc-text">5.6在IDEA中使用Maven</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%90%AF%E5%8A%A8IDEA"><span class="toc-number">1.5.6.1.</span> <span class="toc-text">1.启动IDEA</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAMaven%E9%A1%B9%E7%9B%AE"><span class="toc-number">1.5.6.2.</span> <span class="toc-text">2.创建一个Maven项目</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%E3%80%81"><span class="toc-number">1.5.6.3.</span> <span class="toc-text">3、</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E8%A7%82%E5%AF%9F%E4%BB%93%E5%BA%93%E4%B8%AD%E5%A4%9A%E4%BA%86%E5%93%AA%E4%BA%9B%E4%B8%9C%E8%A5%BF"><span class="toc-number">1.5.6.4.</span> <span class="toc-text">4.观察仓库中多了哪些东西</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-IDEA%E4%B8%AD%E7%9A%84Maven%E5%A6%82%E4%BD%95%E8%AE%BE%E7%BD%AE"><span class="toc-number">1.5.6.5.</span> <span class="toc-text">5.IDEA中的Maven如何设置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-%E5%88%B0%E8%BF%99%E9%87%8C%EF%BC%8CMaven%E5%9C%A8IDEA%E4%B8%AD%E7%9A%84%E9%85%8D%E7%BD%AE%E5%92%8C%E4%BD%BF%E7%94%A8%E5%B0%B1ok%E4%BA%86"><span class="toc-number">1.5.6.6.</span> <span class="toc-text">6.到这里，Maven在IDEA中的配置和使用就ok了</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-7%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%99%AE%E9%80%9A%E7%9A%84Maven%E9%A1%B9%E7%9B%AE"><span class="toc-number">1.5.7.</span> <span class="toc-text">5.7创建一个普通的Maven项目</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-8%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">1.5.8.</span> <span class="toc-text">5.8遇到的问题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-Servlet"><span class="toc-number">1.6.</span> <span class="toc-text">6.Servlet</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-Servlet%E7%AE%80%E4%BB%8B"><span class="toc-number">1.6.1.</span> <span class="toc-text">6.1 Servlet简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2HelloServlet"><span class="toc-number">1.6.2.</span> <span class="toc-text">6.2HelloServlet</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E9%A6%96%E5%85%88%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE%EF%BC%8C%E6%AF%94%E8%BE%83%E6%8E%A8%E8%8D%90%E6%A8%A1%E5%9D%97%E4%B8%AD%E5%A5%97%E6%A8%A1%E5%9D%97%E7%9A%84%E6%96%B9%E5%BC%8F%EF%BC%8C%E6%96%B9%E4%BE%BF%E4%BB%A5%E5%90%8E%E7%AE%A1%E7%90%86"><span class="toc-number">1.6.2.1.</span> <span class="toc-text">1.首先创建项目，比较推荐模块中套模块的方式，方便以后管理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%B7%BB%E5%8A%A0Web%E7%A8%8B%E5%BA%8F"><span class="toc-number">1.6.2.2.</span> <span class="toc-text">2.添加Web程序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E6%B7%BB%E5%8A%A0jsp%E5%92%8CServlet%E5%BA%93"><span class="toc-number">1.6.2.3.</span> <span class="toc-text">3.添加jsp和Servlet库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4%E9%85%8D%E7%BD%AETomcat"><span class="toc-number">1.6.2.4.</span> <span class="toc-text">4配置Tomcat</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E8%81%8A%E4%B8%80%E4%B8%8BXML%E6%96%87%E4%BB%B6"><span class="toc-number">1.6.2.5.</span> <span class="toc-text">5.聊一下XML文件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-Servlet%E5%8E%9F%E7%90%86"><span class="toc-number">1.6.3.</span> <span class="toc-text">6.3 Servlet原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-Mapping%E9%97%AE%E9%A2%98"><span class="toc-number">1.6.4.</span> <span class="toc-text">6.4 Mapping问题</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E4%B8%80%E4%B8%AAServlet%E5%8F%AF%E4%BB%A5%E6%8C%87%E5%AE%9A%E4%B8%80%E4%B8%AA%E6%98%A0%E5%B0%84%E8%B7%AF%E5%BE%84"><span class="toc-number">1.6.4.1.</span> <span class="toc-text">1.一个Servlet可以指定一个映射路径</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E4%B8%80%E4%B8%AAServlet%E5%8F%AF%E4%BB%A5%E6%8C%87%E5%AE%9A%E5%A4%9A%E4%B8%AA%E6%98%A0%E5%B0%84%E8%B7%AF%E5%BE%84"><span class="toc-number">1.6.4.2.</span> <span class="toc-text">2.一个Servlet可以指定多个映射路径</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E4%B8%80%E4%B8%AAServlet%E5%8F%AF%E4%BB%A5%E6%8C%87%E5%AE%9A%E9%80%9A%E7%94%A8%E6%98%A0%E5%B0%84%E8%B7%AF%E5%BE%84"><span class="toc-number">1.6.4.3.</span> <span class="toc-text">3.一个Servlet可以指定通用映射路径</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E9%BB%98%E8%AE%A4%E7%9A%84%E8%AF%B7%E6%B1%82%E8%B7%AF%E5%BE%84"><span class="toc-number">1.6.4.4.</span> <span class="toc-text">4.默认的请求路径</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E6%8C%87%E5%AE%9A%E4%B8%80%E4%BA%9B%E5%90%8E%E7%BC%80%E6%88%96%E8%80%85%E5%89%8D%E7%BC%80%E7%AD%89%E7%AD%89"><span class="toc-number">1.6.4.5.</span> <span class="toc-text">5.指定一些后缀或者前缀等等</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-%E4%BC%98%E5%85%88%E7%BA%A7%E9%97%AE%E9%A2%98"><span class="toc-number">1.6.4.6.</span> <span class="toc-text">6.优先级问题</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-5-ServletContext"><span class="toc-number">1.6.5.</span> <span class="toc-text">6.5 ServletContext</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%85%B1%E4%BA%AB%E6%95%B0%E6%8D%AE%EF%BC%9A"><span class="toc-number">1.6.5.1.</span> <span class="toc-text">1.共享数据：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E8%8E%B7%E5%8F%96%E5%88%9D%E5%A7%8B%E5%8C%96%E5%8F%82%E6%95%B0"><span class="toc-number">1.6.5.2.</span> <span class="toc-text">2.获取初始化参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E8%AF%B7%E6%B1%82%E8%BD%AC%E5%8F%91"><span class="toc-number">1.6.5.3.</span> <span class="toc-text">3.请求转发</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E8%AF%BB%E5%8F%96%E8%B5%84%E6%BA%90%E6%96%87%E4%BB%B6-%E9%87%8D%E8%A6%81"><span class="toc-number">1.6.5.4.</span> <span class="toc-text">4.读取资源文件(重要)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-6HttpServletResponse"><span class="toc-number">1.6.6.</span> <span class="toc-text">6.6HttpServletResponse</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E7%AE%80%E5%8D%95%E5%88%86%E7%B1%BB%EF%BC%9A"><span class="toc-number">1.6.6.1.</span> <span class="toc-text">1.简单分类：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%B8%B8%E8%A7%81%E5%BA%94%E7%94%A8"><span class="toc-number">1.6.6.2.</span> <span class="toc-text">2.常见应用</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E5%90%91%E6%B5%8F%E8%A7%88%E5%99%A8%E8%BE%93%E5%87%BA%E6%B6%88%E6%81%AF"><span class="toc-number">1.6.6.2.1.</span> <span class="toc-text">1.向浏览器输出消息</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6"><span class="toc-number">1.6.6.2.2.</span> <span class="toc-text">2.下载文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E9%AA%8C%E8%AF%81%E7%A0%81%E5%8A%9F%E8%83%BD"><span class="toc-number">1.6.6.2.3.</span> <span class="toc-text">3.验证码功能</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-%E5%AE%9E%E7%8E%B0%E9%87%8D%E5%AE%9A%E5%90%91-%E9%87%8D%E7%82%B9"><span class="toc-number">1.6.6.2.4.</span> <span class="toc-text">4.实现重定向(重点)</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-7HttpServletRequest"><span class="toc-number">1.6.7.</span> <span class="toc-text">6.7HttpServletRequest</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%89%8D%E7%AB%AF%E4%BC%A0%E9%80%92%E7%9A%84%E5%8F%82%E6%95%B0-%E5%B9%B6%E4%B8%94-%E8%AF%B7%E6%B1%82%E8%BD%AC%E5%8F%91"><span class="toc-number">1.6.7.1.</span> <span class="toc-text">获取前端传递的参数 并且 请求转发</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-Cookie%EF%BC%8CSession"><span class="toc-number">1.7.</span> <span class="toc-text">7.Cookie，Session</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1%E4%BC%9A%E8%AF%9D"><span class="toc-number">1.7.1.</span> <span class="toc-text">7.1会话</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2%E4%BF%9D%E5%AD%98%E4%BC%9A%E8%AF%9D%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%8A%80%E6%9C%AF"><span class="toc-number">1.7.2.</span> <span class="toc-text">7.2保存会话的两种技术</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3Cookie"><span class="toc-number">1.7.3.</span> <span class="toc-text">7.3Cookie</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4Session-%E9%87%8D%E7%82%B9"><span class="toc-number">1.7.4.</span> <span class="toc-text">7.4Session(重点)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%98%E4%B8%9C%E8%A5%BF"><span class="toc-number">1.7.4.1.</span> <span class="toc-text">存东西</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%96%E5%87%BASession%E7%9A%84%E4%B8%9C%E8%A5%BF"><span class="toc-number">1.7.4.2.</span> <span class="toc-text">取出Session的东西</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E9%94%80"><span class="toc-number">1.7.4.3.</span> <span class="toc-text">注销</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Session%E5%92%8CCookie%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.7.4.4.</span> <span class="toc-text">Session和Cookie的区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">1.7.4.5.</span> <span class="toc-text">使用场景</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-JSP"><span class="toc-number">1.8.</span> <span class="toc-text">8.JSP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1%E4%BB%80%E4%B9%88%E6%98%AFJSP"><span class="toc-number">1.8.1.</span> <span class="toc-text">8.1什么是JSP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2JSP%E5%8E%9F%E7%90%86"><span class="toc-number">1.8.2.</span> <span class="toc-text">8.2JSP原理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%9D%E8%B7%AF%EF%BC%9AJSP%E5%88%B0%E5%BA%95%E6%80%8E%E4%B9%88%E6%89%A7%E8%A1%8C%E7%9A%84"><span class="toc-number">1.8.2.1.</span> <span class="toc-text">思路：JSP到底怎么执行的</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%88%A4%E6%96%AD%E8%AF%B7%E6%B1%82"><span class="toc-number">1.8.2.2.</span> <span class="toc-text">1.判断请求</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%86%85%E7%BD%AE%E4%BA%86%E4%B8%80%E4%BA%9B%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.8.2.3.</span> <span class="toc-text">2.内置了一些对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E8%BE%93%E5%87%BA%E9%A1%B5%E9%9D%A2%E5%89%8D%E5%A2%9E%E5%8A%A0%E7%9A%84%E4%BB%A3%E7%A0%81"><span class="toc-number">1.8.2.4.</span> <span class="toc-text">3.输出页面前增加的代码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E4%BB%A5%E4%B8%8A%E7%9A%84%E5%AF%B9%E8%B1%A1%EF%BC%8C%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E5%9C%A8JSP%E9%A1%B5%E9%9D%A2%E4%B8%AD%E7%9B%B4%E6%8E%A5%E4%BD%BF%E7%94%A8"><span class="toc-number">1.8.2.5.</span> <span class="toc-text">4.以上的对象，我们可以在JSP页面中直接使用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3JSP%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95"><span class="toc-number">1.8.3.</span> <span class="toc-text">8.3JSP基础语法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#JSP%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">1.8.3.1.</span> <span class="toc-text">JSP表达式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#JSP%E8%84%9A%E6%9C%AC%E7%89%87%E6%AE%B5"><span class="toc-number">1.8.3.2.</span> <span class="toc-text">JSP脚本片段</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%84%9A%E6%9C%AC%E7%89%87%E6%AE%B5%E7%9A%84%E5%86%8D%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.8.3.3.</span> <span class="toc-text">脚本片段的再实现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#JSP%E5%A3%B0%E6%98%8E"><span class="toc-number">1.8.3.4.</span> <span class="toc-text">JSP声明</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4JSP%E6%8C%87%E4%BB%A4"><span class="toc-number">1.8.4.</span> <span class="toc-text">8.4JSP指令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5JSP%E4%B9%9D%E5%A4%A7%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1%E5%92%8C%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">1.8.5.</span> <span class="toc-text">8.5JSP九大内置对象和作用域</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6JSP%E6%A0%87%E7%AD%BE%EF%BC%8CJSTL%E6%A0%87%E7%AD%BE%EF%BC%8CEL%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">1.8.6.</span> <span class="toc-text">8.6JSP标签，JSTL标签，EL表达式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-JavaBean"><span class="toc-number">1.9.</span> <span class="toc-text">9.JavaBean</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-MVC%E4%B8%89%E5%B1%82%E6%9E%B6%E6%9E%84"><span class="toc-number">1.10.</span> <span class="toc-text">10.MVC三层架构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1%E6%97%A9%E6%9C%9F%E6%9E%B6%E6%9E%84"><span class="toc-number">1.10.1.</span> <span class="toc-text">10.1早期架构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2%E4%B8%89%E5%B1%82%E6%9E%B6%E6%9E%84"><span class="toc-number">1.10.2.</span> <span class="toc-text">10.2三层架构</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-%E8%BF%87%E6%BB%A4%E5%99%A8-Filter"><span class="toc-number">1.11.</span> <span class="toc-text">11.过滤器(Filter)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E7%9B%91%E5%90%AC%E5%99%A8"><span class="toc-number">1.12.</span> <span class="toc-text">12.监听器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-%E8%BF%87%E6%BB%A4%E5%99%A8%EF%BC%8C%E7%9B%91%E5%90%AC%E5%99%A8%E7%9A%84%E5%B8%B8%E8%A7%81%E5%BA%94%E7%94%A8"><span class="toc-number">1.13.</span> <span class="toc-text">13.过滤器，监听器的常见应用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9B%91%E5%90%AC%E5%99%A8%EF%BC%9AGUI%E7%BC%96%E7%A8%8B%E4%B8%AD%E7%BB%8F%E5%B8%B8%E4%BD%BF%E7%94%A8"><span class="toc-number">1.13.0.1.</span> <span class="toc-text">监听器：GUI编程中经常使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E8%BF%87%E6%BB%A4%E5%99%A8%E5%AE%9E%E7%8E%B0%E6%8B%A6%E6%88%AA%E5%99%A8%E6%95%88%E6%9E%9C"><span class="toc-number">1.13.0.2.</span> <span class="toc-text">使用过滤器实现拦截器效果</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B3%A8%E9%94%80Servlet"><span class="toc-number">1.13.0.2.1.</span> <span class="toc-text">注销Servlet</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B2%A1%E6%9C%89%E4%BD%BF%E7%94%A8%E8%BF%87%E6%BB%A4%E5%99%A8%EF%BC%8C%E5%8F%AF%E4%BB%A5%E7%9B%B4%E6%8E%A5%E5%86%99%E5%88%B0jsp%E9%A1%B5%E9%9D%A2%E4%B8%AD%EF%BC%8C%E4%BD%86%E6%98%AF%E8%BF%99%E7%A7%8D%E6%96%B9%E5%BC%8F%E8%BF%9D%E8%83%8C%E4%BA%86MVC%E4%B8%89%E5%B1%82%E6%9E%B6%E6%9E%84%E7%9A%84%E6%80%9D%E6%83%B3%EF%BC%8CVIEW%E5%8F%AA%E5%81%9A%E8%A7%86%E5%9B%BE%E5%B1%95%E7%A4%BA%EF%BC%8C%E4%B8%8D%E5%86%99%E9%80%BB%E8%BE%91%E4%B8%9A%E5%8A%A1%E9%80%BB%E8%BE%91"><span class="toc-number">1.13.0.2.2.</span> <span class="toc-text">没有使用过滤器，可以直接写到jsp页面中，但是这种方式违背了MVC三层架构的思想，VIEW只做视图展示，不写逻辑业务逻辑</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BF%87%E6%BB%A4%E5%99%A8%EF%BC%9A"><span class="toc-number">1.13.0.2.3.</span> <span class="toc-text">过滤器：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%85%8D%E7%BD%AExml%EF%BC%9A"><span class="toc-number">1.13.0.2.4.</span> <span class="toc-text">配置xml：</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14-JDBC"><span class="toc-number">1.14.</span> <span class="toc-text">14.JDBC</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/undefined/7f09f5da.html" title="Spring5"><img src="https://s2.loli.net/2023/03/20/ej78CfcYIgwqpmy.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spring5"/></a><div class="content"><a class="title" href="/undefined/7f09f5da.html" title="Spring5">Spring5</a><time datetime="2023-03-19T15:44:20.000Z" title="发表于 2023-03-19 23:44:20">2023-03-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/undefined/7f09f5da.html" title="Mybatis"><img src="https://s2.loli.net/2023/03/21/MR7BLqPOuUtFl5o.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Mybatis"/></a><div class="content"><a class="title" href="/undefined/7f09f5da.html" title="Mybatis">Mybatis</a><time datetime="2023-03-07T18:44:20.000Z" title="发表于 2023-03-08 02:44:20">2023-03-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/undefined/69e9abfd.html" title="JavaSE学习总结"><img src="https://s2.loli.net/2022/12/26/G1wQdNer3UkLJgI.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JavaSE学习总结"/></a><div class="content"><a class="title" href="/undefined/69e9abfd.html" title="JavaSE学习总结">JavaSE学习总结</a><time datetime="2022-12-26T09:14:20.000Z" title="发表于 2022-12-26 17:14:20">2022-12-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/undefined/6af6e090.html" title="JavaWeb学习"><img src="https://s2.loli.net/2022/12/13/EGx6b7s9w2vpX5k.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JavaWeb学习"/></a><div class="content"><a class="title" href="/undefined/6af6e090.html" title="JavaWeb学习">JavaWeb学习</a><time datetime="2022-12-13T04:14:20.000Z" title="发表于 2022-12-13 12:14:20">2022-12-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/undefined/4a17b156.html" title="Hello World"><img src="https://s2.loli.net/2022/12/13/NCusyVczReUYBJ8.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hello World"/></a><div class="content"><a class="title" href="/undefined/4a17b156.html" title="Hello World">Hello World</a><time datetime="2022-12-07T08:53:15.270Z" title="发表于 2022-12-07 16:53:15">2022-12-07</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By 小东</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"></div><div class="aplayer no-destroy" data-id="8841171408" data-server="tencent" data-type="playlist" data-order="list" data-fixed="true" data-preload="auto" data-autoplay="false" data-mutex="true" ></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"left","width":150,"height":300},"mobile":{"show":false},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/"});</script></body></html>